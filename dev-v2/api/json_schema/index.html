
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Data validation using Python type hints">
      
      
      
        <link rel="canonical" href="https://docs.pydantic.dev/latest/api/json_schema/">
      
      
        <link rel="prev" href="../functional_validators/">
      
      
        <link rel="next" href="../mypy/">
      
      <link rel="icon" href="../../favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>pydantic.json_schema - pydantic</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../extra/terminal.css">
    
      <link rel="stylesheet" href="../../extra/tweaks.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pydantic.json_schema" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
  <!-- the following line is displayed in the announcement bar -->
<!-- keep length under 164 characters (less HTML tags) to fit on 1280px desktop window -->
Pydantic's <a href="https://pydantic.dev/roadmap/">commercial roadmap</a> is out ðŸš€, and we'd love to hear your feedback ðŸ“¢!

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="pydantic" class="md-header__button md-logo" aria-label="pydantic" data-md-component="logo">
      
  <img src="../../logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pydantic
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              pydantic.json_schema
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        Get Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../usage/models/" class="md-tabs__link">
        Usage
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../errors/errors/" class="md-tabs__link">
        Error Messages
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../integrations/mypy/" class="md-tabs__link">
        Integrations
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../contributing/" class="md-tabs__link">
      Contribute
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../blog/pydantic-v2-alpha/" class="md-tabs__link">
        Blog
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../main/" class="md-tabs__link md-tabs__link--active">
        API Documentation
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="pydantic" class="md-nav__button md-logo" aria-label="pydantic" data-md-component="logo">
      
  <img src="../../logo-white.svg" alt="logo">

    </a>
    pydantic
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Get Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Welcome to Pydantic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../migration/" class="md-nav__link">
        Migration Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Field Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Field Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/types/" class="md-nav__link">
        Types Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/standard_types/" class="md-nav__link">
        Standard Library Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/booleans/" class="md-nav__link">
        Booleans
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/bytesize/" class="md-nav__link">
        ByteSize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/callables/" class="md-nav__link">
        Callables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/datetime/" class="md-nav__link">
        Datetimes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/dicts_mapping/" class="md-nav__link">
        Dicts and Mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/encoded/" class="md-nav__link">
        Encoded Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/enums/" class="md-nav__link">
        Enums and Choices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/file_types/" class="md-nav__link">
        File Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/json/" class="md-nav__link">
        JSON
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/list_types/" class="md-nav__link">
        Lists and Tuples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/number_types/" class="md-nav__link">
        Number Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/secrets/" class="md-nav__link">
        Secret Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/sequence_iterable/" class="md-nav__link">
        Sequence, Iterable, & Iterator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/set_types/" class="md-nav__link">
        Sets and frozenset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/string_types/" class="md-nav__link">
        String Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/typevars/" class="md-nav__link">
        Type and TypeVar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/types_fields/" class="md-nav__link">
        Types with Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/unions/" class="md-nav__link">
        Unions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/urls/" class="md-nav__link">
        URLs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/uuids/" class="md-nav__link">
        UUIDs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/encoded/" class="md-nav__link">
        Encoded
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/custom/" class="md-nav__link">
        Custom Data Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_25" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_25" id="__nav_2_2_25_label" tabindex="0">
          Extra Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_25_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_25">
          <span class="md-nav__icon md-icon"></span>
          Extra Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/extra_types/extra_types/" class="md-nav__link">
        Extra Types Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/extra_types/color_types/" class="md-nav__link">
        Color Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/extra_types/payment_cards/" class="md-nav__link">
        Payment Card Numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/extra_types/phone_numbers/" class="md-nav__link">
        Phone Numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/types/extra_types/routing_numbers/" class="md-nav__link">
        Routing Numbers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/validators/" class="md-nav__link">
        Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/model_config/" class="md-nav__link">
        Model Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/fields/" class="md-nav__link">
        Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/json_schema/" class="md-nav__link">
        JSON Schema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/exporting_models/" class="md-nav__link">
        Exporting Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/computed_fields/" class="md-nav__link">
        Computed Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/dataclasses/" class="md-nav__link">
        Dataclasses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/validation_decorator/" class="md-nav__link">
        Validation Decorator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/postponed_annotations/" class="md-nav__link">
        Postponed Annotations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/conversion_table/" class="md-nav__link">
        Conversion Table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/pydantic_settings/" class="md-nav__link">
        Settings Management
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Error Messages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Error Messages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../errors/errors/" class="md-nav__link">
        Error Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/validation_errors/" class="md-nav__link">
        Validation Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/errors/" class="md-nav__link">
        Usage Errors
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Integrations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/mypy/" class="md-nav__link">
        Mypy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/pycharm/" class="md-nav__link">
        PyCharm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/hypothesis/" class="md-nav__link">
        Hypothesis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/visual_studio_code/" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/datamodel_code_generator/" class="md-nav__link">
        datamodel-code-generator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/devtools/" class="md-nav__link">
        devtools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/rich/" class="md-nav__link">
        Rich
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        Contribute
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/pydantic-v2-alpha/" class="md-nav__link">
        Pydantic V2 Pre Release
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/pydantic-v2/" class="md-nav__link">
        Pydantic V2 Plan
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          API Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          API Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
          Pydantic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Pydantic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../main/" class="md-nav__link">
        pydantic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../alias_generators/" class="md-nav__link">
        pydantic.alias_generators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../color/" class="md-nav__link">
        pydantic.color
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        pydantic.config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dataclasses/" class="md-nav__link">
        pydantic.dataclasses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        pydantic.errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fields/" class="md-nav__link">
        pydantic.fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../functional_serializers/" class="md-nav__link">
        pydantic.functional_serializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../functional_validators/" class="md-nav__link">
        pydantic.functional_validators
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          pydantic.json_schema
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        pydantic.json_schema
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema" class="md-nav__link">
    pydantic.json_schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.CoreSchemaOrFieldType" class="md-nav__link">
    CoreSchemaOrFieldType
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="md-nav__link">
    DEFAULT_REF_TEMPLATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaMode" class="md-nav__link">
    JsonSchemaMode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaValue" class="md-nav__link">
    JsonSchemaValue
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaWarningKind" class="md-nav__link">
    JsonSchemaWarningKind
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema" class="md-nav__link">
    GenerateJsonSchema
  </a>
  
    <nav class="md-nav" aria-label="GenerateJsonSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="md-nav__link">
    ValidationsMapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.any_schema" class="md-nav__link">
    any_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bool_schema" class="md-nav__link">
    bool_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="md-nav__link">
    build_schema_type_to_method()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="md-nav__link">
    bytes_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.callable_schema" class="md-nav__link">
    callable_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.date_schema" class="md-nav__link">
    date_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="md-nav__link">
    datetime_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dict_schema" class="md-nav__link">
    dict_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.emit_warning" class="md-nav__link">
    emit_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_present" class="md-nav__link">
    field_is_present()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_required" class="md-nav__link">
    field_is_required()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="md-nav__link">
    field_title_should_be_set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.float_schema" class="md-nav__link">
    float_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="md-nav__link">
    frozenset_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate" class="md-nav__link">
    generate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="md-nav__link">
    generate_definitions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_inner" class="md-nav__link">
    generate_inner()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generator_schema" class="md-nav__link">
    generator_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="md-nav__link">
    get_cache_defs_ref_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="md-nav__link">
    get_defs_ref()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="md-nav__link">
    get_json_ref_counts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="md-nav__link">
    handle_ref_overrides()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.int_schema" class="md-nav__link">
    int_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="md-nav__link">
    is_instance_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="md-nav__link">
    is_subclass_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="md-nav__link">
    json_or_python_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="md-nav__link">
    lax_or_strict_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.list_schema" class="md-nav__link">
    list_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.literal_schema" class="md-nav__link">
    literal_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.none_schema" class="md-nav__link">
    none_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="md-nav__link">
    render_warning_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.resolve_collisions" class="md-nav__link">
    resolve_collisions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.resolve_schema_to_update" class="md-nav__link">
    resolve_schema_to_update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.set_schema" class="md-nav__link">
    set_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.str_schema" class="md-nav__link">
    str_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.time_schema" class="md-nav__link">
    time_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="md-nav__link">
    timedelta_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="md-nav__link">
    tuple_positional_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="md-nav__link">
    tuple_variable_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="md-nav__link">
    update_with_validations()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.PydanticJsonSchemaWarning" class="md-nav__link">
    PydanticJsonSchemaWarning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.WithJsonSchema" class="md-nav__link">
    WithJsonSchema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.model_json_schema" class="md-nav__link">
    model_json_schema()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.models_json_schema" class="md-nav__link">
    models_json_schema()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.update_json_schema" class="md-nav__link">
    update_json_schema()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../mypy/" class="md-nav__link">
        pydantic.mypy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../networks/" class="md-nav__link">
        pydantic.networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../root_model/" class="md-nav__link">
        pydantic.root_model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../type_adapter/" class="md-nav__link">
        pydantic.type_adapter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        pydantic.types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../validate_call/" class="md-nav__link">
        pydantic.validate_call
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../version/" class="md-nav__link">
        pydantic.version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
      
      
      
        <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
          Pydantic Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Pydantic Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_core_init/" class="md-nav__link">
        pydantic_core
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_core_schema/" class="md-nav__link">
        pydantic_core.core_schema
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
      
      
      
        <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
          Pydantic Settings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Pydantic Settings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_settings/" class="md-nav__link">
        pydantic_settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
      
      
      
        <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
          Pydantic Extra Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Pydantic Extra Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_color/" class="md-nav__link">
        pydantic_extra_types.color
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_country/" class="md-nav__link">
        pydantic_extra_types.country
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_payment/" class="md-nav__link">
        pydantic_extra_types.payment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_phone_numbers/" class="md-nav__link">
        pydantic_extra_types.phone_numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pydantic_extra_types_routing_number/" class="md-nav__link">
        pydantic_extra_types.routing_number
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema" class="md-nav__link">
    pydantic.json_schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.CoreSchemaOrFieldType" class="md-nav__link">
    CoreSchemaOrFieldType
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="md-nav__link">
    DEFAULT_REF_TEMPLATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaMode" class="md-nav__link">
    JsonSchemaMode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaValue" class="md-nav__link">
    JsonSchemaValue
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.JsonSchemaWarningKind" class="md-nav__link">
    JsonSchemaWarningKind
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema" class="md-nav__link">
    GenerateJsonSchema
  </a>
  
    <nav class="md-nav" aria-label="GenerateJsonSchema">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="md-nav__link">
    ValidationsMapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.any_schema" class="md-nav__link">
    any_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bool_schema" class="md-nav__link">
    bool_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="md-nav__link">
    build_schema_type_to_method()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="md-nav__link">
    bytes_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.callable_schema" class="md-nav__link">
    callable_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.date_schema" class="md-nav__link">
    date_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="md-nav__link">
    datetime_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.dict_schema" class="md-nav__link">
    dict_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.emit_warning" class="md-nav__link">
    emit_warning()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_present" class="md-nav__link">
    field_is_present()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_is_required" class="md-nav__link">
    field_is_required()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="md-nav__link">
    field_title_should_be_set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.float_schema" class="md-nav__link">
    float_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="md-nav__link">
    frozenset_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate" class="md-nav__link">
    generate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="md-nav__link">
    generate_definitions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generate_inner" class="md-nav__link">
    generate_inner()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.generator_schema" class="md-nav__link">
    generator_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="md-nav__link">
    get_cache_defs_ref_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="md-nav__link">
    get_defs_ref()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="md-nav__link">
    get_json_ref_counts()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="md-nav__link">
    handle_ref_overrides()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.int_schema" class="md-nav__link">
    int_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="md-nav__link">
    is_instance_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="md-nav__link">
    is_subclass_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="md-nav__link">
    json_or_python_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="md-nav__link">
    lax_or_strict_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.list_schema" class="md-nav__link">
    list_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.literal_schema" class="md-nav__link">
    literal_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.none_schema" class="md-nav__link">
    none_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="md-nav__link">
    render_warning_message()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.resolve_collisions" class="md-nav__link">
    resolve_collisions()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.resolve_schema_to_update" class="md-nav__link">
    resolve_schema_to_update()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.set_schema" class="md-nav__link">
    set_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.str_schema" class="md-nav__link">
    str_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.time_schema" class="md-nav__link">
    time_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="md-nav__link">
    timedelta_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="md-nav__link">
    tuple_positional_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="md-nav__link">
    tuple_variable_schema()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="md-nav__link">
    update_with_validations()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.PydanticJsonSchemaWarning" class="md-nav__link">
    PydanticJsonSchemaWarning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.WithJsonSchema" class="md-nav__link">
    WithJsonSchema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.model_json_schema" class="md-nav__link">
    model_json_schema()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.models_json_schema" class="md-nav__link">
    models_json_schema()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pydantic.json_schema.update_json_schema" class="md-nav__link">
    update_json_schema()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


  <h1>pydantic.json_schema</h1>

<div class="doc doc-object doc-module">


<a id="pydantic.json_schema"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.CoreSchemaOrFieldType" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">CoreSchemaOrFieldType</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.CoreSchemaOrFieldType" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">CoreSchemaOrFieldType</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span>
    <span class="n">core_schema</span><span class="o">.</span><span class="n">CoreSchemaType</span><span class="p">,</span>
    <span class="n">core_schema</span><span class="o">.</span><span class="n">CoreSchemaFieldType</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias for defined schema types that represents a union of <code>core_schema.CoreSchemaType</code> and
<code>core_schema.CoreSchemaFieldType</code>.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">DEFAULT_REF_TEMPLATE</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.DEFAULT_REF_TEMPLATE" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">DEFAULT_REF_TEMPLATE</span> <span class="o">=</span> <span class="s1">&#39;#/$defs/</span><span class="si">{model}</span><span class="s1">&#39;</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>The default format string used to generate reference names.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.JsonSchemaMode" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">JsonSchemaMode</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.JsonSchemaMode" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;validation&#39;</span><span class="p">,</span> <span class="s1">&#39;serialization&#39;</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias that represents the mode of a JSON schema; either 'validation' or 'serialization'.</p>
<p>For some types, the inputs to validation differ from the outputs of serialization. For example,
computed fields will only be present when serializing, and should not be provided when
validating. This flag provides a way to indicate whether you want the JSON schema required
for validation inputs, or that will be matched by serialization outputs.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.JsonSchemaValue" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">JsonSchemaValue</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.JsonSchemaValue" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias for a JSON schema value. This is a dictionary of string keys to arbitrary values.</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="pydantic.json_schema.JsonSchemaWarningKind" class="doc doc-heading">
        <span class="doc doc-object-name doc-attribute-name">JsonSchemaWarningKind</span>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#pydantic.json_schema.JsonSchemaWarningKind" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">JsonSchemaWarningKind</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span>
    <span class="s2">&quot;skipped-choice&quot;</span><span class="p">,</span> <span class="s2">&quot;non-serializable-default&quot;</span>
<span class="p">]</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>A type alias representing the kinds of warnings that can be emitted during JSON schema generation.</p>
<p>See <code>GenerateJsonSchema.render_warning_message</code> for more details.</p>
  </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.Examples" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">Examples</span>


<a href="#pydantic.json_schema.Examples" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">

  
      <p>Add examples to a JSON schema.</p>
<p>Examples should be a map of example names (strings)
to example values (any valid JSON).</p>
<p>If <code>mode</code> is set this will only apply to that schema generation mode,
allowing you to add different examples for validation and serialization.</p>



  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.GenerateJsonSchema" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">GenerateJsonSchema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">GenerateJsonSchema</span><span class="p">(</span>
    <span class="n">by_alias</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ref_template</span><span class="o">=</span><span class="n">DEFAULT_REF_TEMPLATE</span>
<span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">

  
      <p>A class for generating JSON schemas.</p>
<p>This class generates JSON schemas based on configured parameters. The default schema dialect
is 'https://json-schema.org/draft/2020-12/schema'. The class uses <code>by_alias</code> to configure how fields with
multiple names are handled and <code>ref_template</code> to format reference names.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema_dialect</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The JSON schema dialect used to generate the schema. See
<a href="https://json-schema.org/understanding-json-schema/reference/schema.html#id4">Declaring a Dialect</a>
in the JSON Schema documentation for more information about dialects.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>ignored_warning_kinds</code></td>
          <td>
                <code>set</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Warnings to ignore when generating the schema. <code>self.render_warning_message</code> will
do nothing if its argument <code>kind</code> is in <code>ignored_warning_kinds</code>;
this value can be modified on subclasses to easily control which warnings are emitted.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>by_alias</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to use field names when generating the schema.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>ref_template</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The format string used when generating reference names.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>core_to_json_refs</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A mapping of core refs to JSON refs.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>core_to_defs_refs</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A mapping of core refs to definition refs.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>defs_to_core_refs</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A mapping of definition refs to core refs.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>json_to_defs_refs</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A mapping of JSON refs to definition refs.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>definitions</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Definitions in the schema.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>collisions</code></td>
          <td>
                <code>set</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Definitions with colliding names. When collisions are detected, we choose a non-colliding
name during generation, but we also track the colliding tag so that it can be remapped for the first
occurrence at the end of the process.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>defs_ref_fallbacks</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Core refs to fallback definitions refs.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>_schema_type_to_method</code></td>
          <td>
                <code>dict</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A mapping of schema types to generator methods.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>_used</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set to <code>True</code> after generating a schema to avoid re-use issues.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>mode</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema mode.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>by_alias</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to include field names.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>ref_template</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The format string to use when generating reference names.</p>
            </div>
          </td>
          <td>
                <code>DEFAULT_REF_TEMPLATE</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>JsonSchemaError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the instance of the class is inadvertently re-used after generating a schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


          <details class="quote">
            <summary>Source code in <code>pydantic/json_schema.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">by_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">ref_template</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">by_alias</span> <span class="o">=</span> <span class="n">by_alias</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ref_template</span> <span class="o">=</span> <span class="n">ref_template</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreModeRef</span><span class="p">,</span> <span class="n">JsonRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreModeRef</span><span class="p">,</span> <span class="n">DefsRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">defs_to_core_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">CoreModeRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">JsonRef</span><span class="p">,</span> <span class="n">DefsRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># When collisions are detected, we choose a non-colliding name</span>
    <span class="c1"># during generation, but we also track the colliding tag so that it</span>
    <span class="c1"># can be remapped for the first occurrence at the end of the process</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">collisions</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">defs_ref_fallbacks</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreModeRef</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_schema_type_to_method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_schema_type_to_method</span><span class="p">()</span>

    <span class="c1"># This changes to True after generating a schema, to prevent issues caused by accidental re-use</span>
    <span class="c1"># of a single instance of a schema generator</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_used</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">:</span> <span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="s1">&#39;validation&#39;</span>

    <span class="c1"># When we encounter definitions we need to try to build them immediately</span>
    <span class="c1"># so that they are available schemas that reference them</span>
    <span class="c1"># But it&#39;s possible that that CoreSchema was never going to be used</span>
    <span class="c1"># (e.g. because the CoreSchema that references short circuits is JSON schema generation without needing</span>
    <span class="c1">#  the reference) so instead of failing altogether if we can&#39;t build a definition we</span>
    <span class="c1"># store the error raised and re-throw it if we end up needing that def</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">core_defs_invalid_for_json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">PydanticInvalidForJsonSchema</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
          </details>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">ValidationsMapping</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.ValidationsMapping" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">

  
      <p>This class just contains mappings from core_schema attribute names to the corresponding
JSON schema attribute names. While I suspect it is unlikely to be necessary, you can in
principle override this class in a subclass of GenerateJsonSchema (by inheriting from
GenerateJsonSchema.ValidationsMapping) to change these mappings.</p>



  

  <div class="doc doc-children">











  </div>

  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.any_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">any_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.any_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">any_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches any value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.AnySchema">AnySchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">any_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">AnySchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches any value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.bool_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">bool_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.bool_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">bool_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a Boolean value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.BoolSchema">BoolSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">bool_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">BoolSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a Boolean value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;boolean&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">build_schema_type_to_method</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.build_schema_type_to_method" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">build_schema_type_to_method</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Builds a dictionary mapping <code>CoreSchemaOrFieldType</code> to a callable method that generates a <code>JsonSchema</code> value
for a given <code>CoreSchemaOrField</code>.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>dict</code></td>          <td>
                <code>dict[<a class="autorefs autorefs-internal" title="pydantic.json_schema.CoreSchemaOrFieldType" href="#pydantic.json_schema.CoreSchemaOrFieldType">CoreSchemaOrFieldType</a>, <span title="typing.Callable">Callable</span>[[<span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary containing the mapping of <code>CoreSchemaOrFieldType</code> to a callable method.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>TypeError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If no method has been defined for generating a JSON schema for a given pydantic core schema type.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">build_schema_type_to_method</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreSchemaOrFieldType</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">CoreSchemaOrField</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Builds a dictionary mapping `CoreSchemaOrFieldType` to a callable method that generates a `JsonSchema` value</span>
<span class="sd">    for a given `CoreSchemaOrField`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary containing the mapping of `CoreSchemaOrFieldType` to a callable method.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TypeError: If no method has been defined for generating a JSON schema for a given pydantic core schema type.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mapping</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">CoreSchemaOrFieldType</span><span class="p">,</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">CoreSchemaOrField</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">core_schema_types</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CoreSchemaOrFieldType</span><span class="p">]</span> <span class="o">=</span> <span class="n">_typing_extra</span><span class="o">.</span><span class="n">all_literal_values</span><span class="p">(</span>
        <span class="n">CoreSchemaOrFieldType</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">core_schema_types</span><span class="p">:</span>
        <span class="n">method_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;_&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">_schema&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mapping</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;No method for generating JsonSchema for core_schema.type=</span><span class="si">{</span><span class="n">key</span><span class="si">!r}</span><span class="s1"> &#39;</span>
                <span class="sa">f</span><span class="s1">&#39;(expected: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">method_name</span><span class="si">}</span><span class="s1">)&#39;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">e</span>
    <span class="k">return</span> <span class="n">mapping</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">bytes_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.bytes_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">bytes_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a bytes value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.BytesSchema">BytesSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">bytes_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">BytesSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a bytes value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;binary&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">bytes</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.callable_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">callable_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.callable_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">callable_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that checks if a value is callable, equivalent to Python's <code>callable</code> method.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.CallableSchema">CallableSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">callable_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">CallableSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that checks if a value is callable, equivalent to Python&#39;s `callable` method.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_invalid_for_json_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="s1">&#39;core_schema.CallableSchema&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.date_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">date_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.date_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">date_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a date value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.DateSchema">DateSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">date_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DateSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a date value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;date&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">datetime_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.datetime_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">datetime_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a <code>datetime</code> value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.DatetimeSchema">DatetimeSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">datetime_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DatetimeSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a `datetime` value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;date-time&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.dict_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">dict_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.dict_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">dict_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a dict schema.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.DictSchema">DictSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">dict_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DictSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a dict schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;object&#39;</span><span class="p">}</span>

    <span class="n">keys_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;keys_schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="s1">&#39;keys_schema&#39;</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="n">keys_pattern</span> <span class="o">=</span> <span class="n">keys_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="n">values_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;values_schema&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">if</span> <span class="s1">&#39;values_schema&#39;</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="p">{}</span>
    <span class="n">values_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># don&#39;t give a title to the additionalProperties</span>
    <span class="k">if</span> <span class="n">values_schema</span> <span class="ow">or</span> <span class="n">keys_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># don&#39;t add additionalProperties if it&#39;s empty</span>
        <span class="k">if</span> <span class="n">keys_pattern</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;additionalProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">values_schema</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;patternProperties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="n">keys_pattern</span><span class="p">:</span> <span class="n">values_schema</span><span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">object</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.emit_warning" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">emit_warning</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.emit_warning" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">emit_warning</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">detail</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>This method simply emits PydanticJsonSchemaWarnings based on handling in the <code>warning_message</code> method.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">emit_warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">JsonSchemaWarningKind</span><span class="p">,</span> <span class="n">detail</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This method simply emits PydanticJsonSchemaWarnings based on handling in the `warning_message` method.&quot;&quot;&quot;</span>
    <span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_warning_message</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">detail</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">PydanticJsonSchemaWarning</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.field_is_present" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">field_is_present</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.field_is_present" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">field_is_present</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Whether the field should be included in the generated JSON schema.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">field_is_present</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field</span><span class="p">:</span> <span class="n">CoreSchemaField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whether the field should be included in the generated JSON schema.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="c1"># If you still want to include the field in the generated JSON schema,</span>
        <span class="c1"># override this method and return True</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;serialization_exclude&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">assert_never</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.field_is_required" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">field_is_required</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.field_is_required" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">field_is_required</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Whether the field should be marked as required in the generated JSON schema.
(Note that this is irrelevant if the field is not present in the JSON schema.).</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>field</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.ModelField">ModelField</span> | <a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.DataclassField">DataclassField</span> | <a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.TypedDictField">TypedDictField</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema for the field itself.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>total</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Only applies to <code>TypedDictField</code>s.
Indicates if the <code>TypedDict</code> this field belongs to is total, in which case any fields that don't
explicitly specify <code>required=False</code> are required.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">field_is_required</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">field</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ModelField</span> <span class="o">|</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">DataclassField</span> <span class="o">|</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TypedDictField</span><span class="p">,</span>
    <span class="n">total</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whether the field should be marked as required in the generated JSON schema.</span>
<span class="sd">    (Note that this is irrelevant if the field is not present in the JSON schema.).</span>

<span class="sd">    Args:</span>
<span class="sd">        field: The schema for the field itself.</span>
<span class="sd">        total: Only applies to `TypedDictField`s.</span>
<span class="sd">            Indicates if the `TypedDict` this field belongs to is total, in which case any fields that don&#39;t</span>
<span class="sd">            explicitly specify `required=False` are required.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;serialization&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;serialization_exclude&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;validation&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">field</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;typed-dict-field&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">field</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;required&#39;</span><span class="p">,</span> <span class="n">total</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">field</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;default&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">assert_never</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">field_title_should_be_set</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.field_title_should_be_set" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns true if a field with the given schema should have a title set based on the field name.</p>
<p>Intuitively, we want this to return true for schemas that wouldn't otherwise provide their own title
(e.g., int, float, str), and false for those that would (e.g., BaseModel subclasses).</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">field_title_should_be_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns true if a field with the given schema should have a title set based on the field name.</span>

<span class="sd">    Intuitively, we want this to return true for schemas that wouldn&#39;t otherwise provide their own title</span>
<span class="sd">    (e.g., int, float, str), and false for those that would (e.g., BaseModel subclasses).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema_field</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;computed-field&#39;</span><span class="p">:</span>
            <span class="n">field_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;return_schema&#39;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">field_schema</span> <span class="o">=</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">field_schema</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;ref&#39;</span><span class="p">):</span>  <span class="c1"># things with refs, such as models and enums, should not have titles set</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="s1">&#39;nullable&#39;</span><span class="p">,</span> <span class="s1">&#39;definitions&#39;</span><span class="p">}:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore[typeddict-item]</span>
        <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_function_with_inner_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_title_should_be_set</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;schema&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;definition-ref&#39;</span><span class="p">:</span>
            <span class="c1"># Referenced schemas should not have titles set for the same reason</span>
            <span class="c1"># schemas with refs should not</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># anything else should have title set</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PydanticInvalidForJsonSchema</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unexpected schema type: schema=</span><span class="si">{</span><span class="n">schema</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># pragma: no cover</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.float_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">float_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.float_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">float_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a Float value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.FloatSchema">FloatSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">float_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">FloatSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a Float value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;number&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">numeric</span><span class="p">)</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">}}</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">frozenset_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.frozenset_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">frozenset_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a <code>frozenset</code> schema.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.FrozenSetSchema">FrozenSetSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">frozenset_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">FrozenSetSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a `frozenset` schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_common_set_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.generate" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">generate</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generate" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">generate</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;validation&#39;</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Generates a JSON schema for a specified schema in a specified mode.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><span title="pydantic_core.CoreSchema">CoreSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A Pydantic model.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>mode</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The mode in which to generate the schema. Defaults to 'validation'.</p>
            </div>
          </td>
          <td>
                <code>&#39;validation&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A JSON schema representing the specified schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.errors.PydanticUserError" href="../errors/#pydantic.errors.PydanticUserError">PydanticUserError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the JSON schema generator has already been used to generate a JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="s1">&#39;validation&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema for a specified schema in a specified mode.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: A Pydantic model.</span>
<span class="sd">        mode: The mode in which to generate the schema. Defaults to &#39;validation&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A JSON schema representing the specified schema.</span>

<span class="sd">    Raises:</span>
<span class="sd">        PydanticUserError: If the JSON schema generator has already been used to generate a JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_used</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PydanticUserError</span><span class="p">(</span>
            <span class="s1">&#39;This JSON schema generator has already been used to generate a JSON schema. &#39;</span>
            <span class="sa">f</span><span class="s1">&#39;You must create a new instance of </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> to generate a new JSON schema.&#39;</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="s1">&#39;json-schema-already-used&#39;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
    <span class="n">json_ref_counts</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_json_ref_counts</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>

    <span class="c1"># Remove the top-level $ref if present; note that the _generate method already ensures there are no sibling keys</span>
    <span class="n">ref</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">,</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">))</span>
    <span class="k">while</span> <span class="n">ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># may need to unpack multiple levels</span>
        <span class="n">ref_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schema_from_definitions</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">json_ref_counts</span><span class="p">[</span><span class="n">ref</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">ref_json_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Keep the ref, but use an allOf to remove the top level $ref</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;allOf&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">ref</span><span class="p">}]}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># &quot;Unpack&quot; the ref since this is the only reference</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">ref_json_schema</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># copy to prevent recursive dict reference</span>
            <span class="n">json_ref_counts</span><span class="p">[</span><span class="n">ref</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">ref</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">,</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">))</span>

    <span class="c1"># Remove any definitions that, thanks to $ref-substitution, are no longer present.</span>
    <span class="c1"># I think this should only _possibly_ apply to the root model, though I&#39;m not 100% sure.</span>
    <span class="c1"># It might be safe to remove this logic, but I&#39;m keeping it for now</span>
    <span class="n">all_json_refs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">all_json_refs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">json_ref_counts</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">[</span><span class="n">k</span><span class="p">]]</span>

    <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_collisions</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$defs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span>

    <span class="c1"># For now, we will not set the $schema key. However, if desired, this can be easily added by overriding</span>
    <span class="c1"># this method and adding the following line after a call to super().generate(schema):</span>
    <span class="c1"># json_schema[&#39;$schema&#39;] = self.schema_dialect</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_used</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">_sort_json_schema</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">generate_definitions</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generate_definitions" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">generate_definitions</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Given a list of core_schema, generates all JSON schema definitions from a list of core schemas, and
returns the generated definitions paired with a mapping from the input keys to the definition references.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>inputs</code></td>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[tuple[<span title="pydantic.json_schema.JsonSchemaKeyT">JsonSchemaKeyT</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>, <a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.CoreSchema">CoreSchema</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A sequence of tuples, where:</p>
<ul>
<li><code>JsonSchemaKeyT</code> will be paired with <code>JsonSchemaMode</code> to form the keys of the first returned
    dictionary.</li>
<li><code>JsonSchemaMode</code> is a JSON schema mode, either 'validation' or 'serialization'.</li>
<li><code>core_schema.CoreSchema</code> is a Pydantic <code>core_schema</code>.</li>
</ul>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[dict[tuple[<span title="pydantic.json_schema.JsonSchemaKeyT">JsonSchemaKeyT</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>], <span title="pydantic.json_schema.DefsRef">DefsRef</span>], dict[<span title="pydantic.json_schema.DefsRef">DefsRef</span>, <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A 2-tuple, where:</p>
<ul>
<li>The first element is a dictionary whose keys are tuples of a JSON schema key type and mode, and
    whose values are <code>DefsRef</code>.</li>
<li>The second element is a dictionary whose keys are <code>DefsRef</code> and whose values are <code>JsonSchemaValue</code>.</li>
</ul>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.errors.PydanticUserError" href="../errors/#pydantic.errors.PydanticUserError">PydanticUserError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Raised if the JSON schema generator has already been used to generate a JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_definitions</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">JsonSchemaKeyT</span><span class="p">,</span> <span class="n">JsonSchemaMode</span><span class="p">,</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">CoreSchema</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">JsonSchemaKeyT</span><span class="p">,</span> <span class="n">JsonSchemaMode</span><span class="p">],</span> <span class="n">DefsRef</span><span class="p">],</span> <span class="nb">dict</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given a list of core_schema, generates all JSON schema definitions from a list of core schemas, and</span>
<span class="sd">    returns the generated definitions paired with a mapping from the input keys to the definition references.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputs: A sequence of tuples, where:</span>

<span class="sd">            - `JsonSchemaKeyT` will be paired with `JsonSchemaMode` to form the keys of the first returned</span>
<span class="sd">                dictionary.</span>
<span class="sd">            - `JsonSchemaMode` is a JSON schema mode, either &#39;validation&#39; or &#39;serialization&#39;.</span>
<span class="sd">            - `core_schema.CoreSchema` is a Pydantic `core_schema`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A 2-tuple, where:</span>

<span class="sd">            - The first element is a dictionary whose keys are tuples of a JSON schema key type and mode, and</span>
<span class="sd">                whose values are `DefsRef`.</span>
<span class="sd">            - The second element is a dictionary whose keys are `DefsRef` and whose values are `JsonSchemaValue`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        PydanticUserError: Raised if the JSON schema generator has already been used to generate a JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_used</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">PydanticUserError</span><span class="p">(</span>
            <span class="s1">&#39;This JSON schema generator has already been used to generate a JSON schema. &#39;</span>
            <span class="sa">f</span><span class="s1">&#39;You must create a new instance of </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1"> to generate a new JSON schema.&#39;</span><span class="p">,</span>
            <span class="n">code</span><span class="o">=</span><span class="s1">&#39;json-schema-already-used&#39;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">resolve_collisions</span><span class="p">({})</span>

    <span class="n">refs_map</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">JsonSchemaKeyT</span><span class="p">,</span> <span class="n">JsonSchemaMode</span><span class="p">],</span> <span class="n">DefsRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">schema</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="p">:</span>
            <span class="n">json_ref</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">])</span>
            <span class="n">defs_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">json_ref</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">defs_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">refs_map</span><span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">mode</span><span class="p">)]</span> <span class="o">=</span> <span class="n">defs_ref</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_used</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="n">refs_map</span><span class="p">,</span> <span class="n">_sort_json_schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.generate_inner" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">generate_inner</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generate_inner" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Generates a JSON schema for a given <code>CoreSchemaOrField</code>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><span title="pydantic._internal._core_utils.CoreSchemaOrField">CoreSchemaOrField</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The given <code>CoreSchemaOrField</code> to generate JSON schema for.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_inner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generates a JSON schema for a given `CoreSchemaOrField`.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The given `CoreSchemaOrField` to generate JSON schema for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># If a schema with the same CoreRef has been handled, just return a reference to it</span>
    <span class="c1"># Note that this assumes that it will _never_ be the case that the same CoreRef is used</span>
    <span class="c1"># on types that should have different JSON schemas</span>
    <span class="k">if</span> <span class="s1">&#39;ref&#39;</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
        <span class="n">core_ref</span> <span class="o">=</span> <span class="n">CoreRef</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore[typeddict-item]</span>
        <span class="n">core_mode_ref</span> <span class="o">=</span> <span class="p">(</span><span class="n">core_ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">core_mode_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]}</span>

    <span class="c1"># Generate the JSON schema, accounting for the json_schema_override and core_schema_override</span>
    <span class="n">metadata_handler</span> <span class="o">=</span> <span class="n">_core_metadata</span><span class="o">.</span><span class="n">CoreMetadataHandler</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">populate_defs</span><span class="p">(</span><span class="n">core_schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;ref&#39;</span> <span class="ow">in</span> <span class="n">core_schema</span><span class="p">:</span>
            <span class="n">core_ref</span> <span class="o">=</span> <span class="n">CoreRef</span><span class="p">(</span><span class="n">core_schema</span><span class="p">[</span><span class="s1">&#39;ref&#39;</span><span class="p">])</span>  <span class="c1"># type: ignore[typeddict-item]</span>
            <span class="n">defs_ref</span><span class="p">,</span> <span class="n">ref_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cache_defs_ref_schema</span><span class="p">(</span><span class="n">core_ref</span><span class="p">)</span>
            <span class="n">json_ref</span> <span class="o">=</span> <span class="n">JsonRef</span><span class="p">(</span><span class="n">ref_json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">[</span><span class="n">json_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">defs_ref</span>
            <span class="c1"># Replace the schema if it&#39;s not a reference to itself</span>
            <span class="c1"># What we want to avoid is having the def be just a ref to itself</span>
            <span class="c1"># which is what would happen if we blindly assigned any</span>
            <span class="k">if</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="o">!=</span> <span class="n">json_ref</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="n">defs_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">json_schema</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">core_defs_invalid_for_json_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">defs_ref</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">ref_json_schema</span>
        <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">json_schema</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">json_schema</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># technically you can&#39;t have any other keys next to a &quot;$ref&quot;</span>
            <span class="c1"># but it&#39;s an easy mistake to make and not hard to correct automatically here</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">ref</span> <span class="o">=</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;$ref&#39;</span><span class="p">)</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;allOf&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">ref</span><span class="p">}],</span> <span class="o">**</span><span class="n">json_schema</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">json_schema</span>

    <span class="k">def</span> <span class="nf">handler_func</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate a JSON schema based on the input schema.</span>

<span class="sd">        Args:</span>
<span class="sd">            schema_or_field: The schema data to generate a JSON schema from.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The generated JSON schema.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TypeError: If an unexpected schema type is encountered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Generate the core-schema-type-specific bits of the schema generation:</span>
        <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema_field</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">):</span>
            <span class="n">generate_for_schema_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schema_type_to_method</span><span class="p">[</span><span class="n">schema_or_field</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]]</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">generate_for_schema_type</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unexpected schema type: schema=</span><span class="si">{</span><span class="n">schema_or_field</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">):</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">populate_defs</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">json_schema</span>

    <span class="n">current_handler</span> <span class="o">=</span> <span class="n">_schema_generation_shared</span><span class="o">.</span><span class="n">GenerateJsonSchemaHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">handler_func</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">js_modify_function</span> <span class="ow">in</span> <span class="n">metadata_handler</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pydantic_js_functions&#39;</span><span class="p">,</span> <span class="p">()):</span>

        <span class="k">def</span> <span class="nf">new_handler_func</span><span class="p">(</span>
            <span class="n">schema_or_field</span><span class="p">:</span> <span class="n">CoreSchemaOrField</span><span class="p">,</span>
            <span class="n">current_handler</span><span class="p">:</span> <span class="n">GetJsonSchemaHandler</span> <span class="o">=</span> <span class="n">current_handler</span><span class="p">,</span>
            <span class="n">js_modify_function</span><span class="p">:</span> <span class="n">GetJsonSchemaFunction</span> <span class="o">=</span> <span class="n">js_modify_function</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
            <span class="n">json_schema</span> <span class="o">=</span> <span class="n">js_modify_function</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">,</span> <span class="n">current_handler</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">_core_utils</span><span class="o">.</span><span class="n">is_core_schema</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">):</span>
                <span class="n">json_schema</span> <span class="o">=</span> <span class="n">populate_defs</span><span class="p">(</span><span class="n">schema_or_field</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">json_schema</span>

        <span class="n">current_handler</span> <span class="o">=</span> <span class="n">_schema_generation_shared</span><span class="o">.</span><span class="n">GenerateJsonSchemaHandler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_handler_func</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">current_handler</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.generator_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">generator_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.generator_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">generator_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a JSON schema that represents the provided GeneratorSchema.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.GeneratorSchema">GeneratorSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generator_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">GeneratorSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a JSON schema that represents the provided GeneratorSchema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">items_schema</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="s1">&#39;items_schema&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">])</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items_schema</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">get_cache_defs_ref_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_cache_defs_ref_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">get_cache_defs_ref_schema</span><span class="p">(</span><span class="n">core_ref</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>This method wraps the get_defs_ref method with some cache-lookup/population logic,
and returns both the produced defs_ref and the JSON schema that will refer to the right definition.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_cache_defs_ref_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core_ref</span><span class="p">:</span> <span class="n">CoreRef</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">DefsRef</span><span class="p">,</span> <span class="n">JsonSchemaValue</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This method wraps the get_defs_ref method with some cache-lookup/population logic,</span>
<span class="sd">    and returns both the produced defs_ref and the JSON schema that will refer to the right definition.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">core_mode_ref</span> <span class="o">=</span> <span class="p">(</span><span class="n">core_ref</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span>
    <span class="n">maybe_defs_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">core_mode_ref</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">maybe_defs_ref</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">json_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">maybe_defs_ref</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">json_ref</span><span class="p">}</span>

    <span class="n">defs_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_defs_ref</span><span class="p">(</span><span class="n">core_mode_ref</span><span class="p">)</span>

    <span class="c1"># populate the ref translation mappings</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_defs_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">defs_ref</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">defs_to_core_refs</span><span class="p">[</span><span class="n">defs_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">core_mode_ref</span>

    <span class="n">json_ref</span> <span class="o">=</span> <span class="n">JsonRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ref_template</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">defs_ref</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">core_to_json_refs</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">json_ref</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">[</span><span class="n">json_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">defs_ref</span>
    <span class="n">ref_json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">json_ref</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">defs_ref</span><span class="p">,</span> <span class="n">ref_json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">get_defs_ref</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_defs_ref" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">get_defs_ref</span><span class="p">(</span><span class="n">core_mode_ref</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Override this method to change the way that definitions keys are generated from a core reference.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_defs_ref</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">core_mode_ref</span><span class="p">:</span> <span class="n">CoreModeRef</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DefsRef</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Override this method to change the way that definitions keys are generated from a core reference.&quot;&quot;&quot;</span>
    <span class="c1"># Split the core ref into &quot;components&quot;; generic origins and arguments are each separate components</span>
    <span class="n">core_ref</span><span class="p">,</span> <span class="n">mode</span> <span class="o">=</span> <span class="n">core_mode_ref</span>
    <span class="n">components</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([\][,])&#39;</span><span class="p">,</span> <span class="n">core_ref</span><span class="p">)</span>
    <span class="c1"># Remove IDs from each component</span>
    <span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">components</span><span class="p">]</span>
    <span class="n">core_ref_no_id</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>
    <span class="c1"># Remove everything before the last period from each &quot;component&quot;</span>
    <span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(?:[^.[\]]+\.)+((?:[^.[\]]+))&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\1&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">components</span><span class="p">]</span>
    <span class="n">short_ref</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">components</span><span class="p">)</span>

    <span class="n">mode_title</span> <span class="o">=</span> <span class="n">_MODE_TITLE_MAPPING</span><span class="p">[</span><span class="n">mode</span><span class="p">]</span>
    <span class="c1"># It is important that the generated defs_ref values be such that at least one could not</span>
    <span class="c1"># be generated for any other core_ref. Currently, this should be the case because we include</span>
    <span class="c1"># the id of the source type in the core_ref</span>
    <span class="n">choices</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">short_ref</span><span class="p">)),</span>  <span class="c1"># name</span>
        <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">short_ref</span> <span class="o">+</span> <span class="n">mode_title</span><span class="p">)),</span>  <span class="c1"># name + mode</span>
        <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">core_ref_no_id</span><span class="p">)),</span>  <span class="c1"># module + qualname</span>
        <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">core_ref_no_id</span> <span class="o">+</span> <span class="n">mode_title</span><span class="p">)),</span>  <span class="c1"># module + qualname + mode</span>
        <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">core_ref</span><span class="p">)),</span>  <span class="c1"># module + qualname + id</span>
        <span class="n">DefsRef</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_name</span><span class="p">(</span><span class="n">core_ref</span> <span class="o">+</span> <span class="n">mode_title</span><span class="p">)),</span>  <span class="c1"># module + qualname + id + mode</span>
    <span class="p">]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">defs_ref_fallbacks</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]</span> <span class="o">=</span> <span class="n">choices</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

    <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">defs_to_core_refs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">choice</span><span class="p">,</span> <span class="n">core_mode_ref</span><span class="p">)</span> <span class="o">==</span> <span class="n">core_mode_ref</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">choice</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">collisions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">choices</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># should never get here if the final choice is guaranteed unique</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">get_json_ref_counts</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.get_json_ref_counts" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">get_json_ref_counts</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Get all values corresponding to the key '$ref' anywhere in the json_schema.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_json_ref_counts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="n">JsonRef</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get all values corresponding to the key &#39;$ref&#39; anywhere in the json_schema.&quot;&quot;&quot;</span>
    <span class="n">json_refs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">JsonRef</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_add_json_refs</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
                <span class="n">json_ref</span> <span class="o">=</span> <span class="n">JsonRef</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">])</span>
                <span class="n">already_visited</span> <span class="o">=</span> <span class="n">json_ref</span> <span class="ow">in</span> <span class="n">json_refs</span>
                <span class="n">json_refs</span><span class="p">[</span><span class="n">json_ref</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">already_visited</span><span class="p">:</span>
                    <span class="k">return</span>  <span class="c1"># prevent recursion on a definition that was already visited</span>
                <span class="n">def_ref</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">json_to_defs_refs</span><span class="p">[</span><span class="n">json_ref</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">def_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_defs_invalid_for_json_schema</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="bp">self</span><span class="o">.</span><span class="n">core_defs_invalid_for_json_schema</span><span class="p">[</span><span class="n">def_ref</span><span class="p">]</span>
                <span class="n">_add_json_refs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">definitions</span><span class="p">[</span><span class="n">def_ref</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">_add_json_refs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
                <span class="n">_add_json_refs</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

    <span class="n">_add_json_refs</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_refs</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">handle_ref_overrides</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.handle_ref_overrides" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">handle_ref_overrides</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>It is not valid for a schema with a top-level $ref to have sibling keys.</p>
<p>During our own schema generation, we treat sibling keys as overrides to the referenced schema,
but this is not how the official JSON schema spec works.</p>
<p>Because of this, we first remove any sibling keys that are redundant with the referenced schema, then if
any remain, we transform the schema from a top-level '$ref' to use allOf to move the $ref out of the top level.
(See bottom of https://swagger.io/docs/specification/using-ref/ for a reference about this behavior)</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">handle_ref_overrides</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;It is not valid for a schema with a top-level $ref to have sibling keys.</span>

<span class="sd">    During our own schema generation, we treat sibling keys as overrides to the referenced schema,</span>
<span class="sd">    but this is not how the official JSON schema spec works.</span>

<span class="sd">    Because of this, we first remove any sibling keys that are redundant with the referenced schema, then if</span>
<span class="sd">    any remain, we transform the schema from a top-level &#39;$ref&#39; to use allOf to move the $ref out of the top level.</span>
<span class="sd">    (See bottom of https://swagger.io/docs/specification/using-ref/ for a reference about this behavior)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="p">:</span>
        <span class="c1"># prevent modifications to the input; this copy may be safe to drop if there is significant overhead</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">referenced_json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schema_from_definitions</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">(</span><span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="n">referenced_json_schema</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># This can happen when building schemas for models with not-yet-defined references.</span>
            <span class="c1"># It may be a good idea to do a recursive pass at the end of the generation to remove</span>
            <span class="c1"># any redundant override keys.</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># Make it an allOf to at least resolve the sibling keys issue</span>
                <span class="n">json_schema</span> <span class="o">=</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="n">json_schema</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;allOf&#39;</span><span class="p">,</span> <span class="p">[])</span>
                <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;allOf&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">]})</span>
                <span class="k">del</span> <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">]</span>

            <span class="k">return</span> <span class="n">json_schema</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">json_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="s1">&#39;$ref&#39;</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">referenced_json_schema</span> <span class="ow">and</span> <span class="n">referenced_json_schema</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">==</span> <span class="n">v</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">json_schema</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>  <span class="c1"># redundant key</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="c1"># There is a remaining &quot;override&quot; key, so we need to move $ref out of the top level</span>
            <span class="n">json_ref</span> <span class="o">=</span> <span class="n">JsonRef</span><span class="p">(</span><span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">])</span>
            <span class="k">del</span> <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">]</span>
            <span class="k">assert</span> <span class="s1">&#39;allOf&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">json_schema</span>  <span class="c1"># this should never happen, but just in case</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;allOf&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;$ref&#39;</span><span class="p">:</span> <span class="n">json_ref</span><span class="p">}]</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.int_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">int_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.int_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">int_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches an int value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.IntSchema">IntSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">int_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IntSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches an int value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;integer&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">numeric</span><span class="p">)</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">math</span><span class="o">.</span><span class="n">inf</span><span class="p">}}</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">is_instance_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.is_instance_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">is_instance_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that checks if a value is an instance of a class, equivalent to Python's <code>isinstance</code>
method.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.IsInstanceSchema">IsInstanceSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_instance_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IsInstanceSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that checks if a value is an instance of a class, equivalent to Python&#39;s `isinstance`</span>
<span class="sd">    method.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_invalid_for_json_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;core_schema.IsInstanceSchema (</span><span class="si">{</span><span class="n">schema</span><span class="p">[</span><span class="s2">&quot;cls&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">is_subclass_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.is_subclass_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">is_subclass_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that checks if a value is a subtype of a class, equivalent to Python's <code>issubclass</code> method.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.IsSubclassSchema">IsSubclassSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_subclass_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">IsSubclassSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that checks if a value is a subtype of a class, equivalent to Python&#39;s `issubclass` method.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Note: This is for compatibility with V1; you can override if you want different behavior.</span>
    <span class="k">return</span> <span class="p">{}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">json_or_python_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.json_or_python_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">json_or_python_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Always uses the json schema.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">json_or_python_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">JsonOrPythonSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Always uses the json schema.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;json_schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">lax_or_strict_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.lax_or_strict_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">lax_or_strict_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>LaxOrStrict will use the strict branch for serialization internally,
unless it was overridden here.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">874</span>
<span class="normal">875</span>
<span class="normal">876</span>
<span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">lax_or_strict_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">LaxOrStrictSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;LaxOrStrict will use the strict branch for serialization internally,</span>
<span class="sd">    unless it was overridden here.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO: Need to read the default value off of model config or whatever</span>
    <span class="n">use_strict</span> <span class="o">=</span> <span class="n">schema</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>  <span class="c1"># TODO: replace this default False</span>
    <span class="c1"># If your JSON schema fails to generate it is probably</span>
    <span class="c1"># because one of the following two branches failed.</span>
    <span class="k">if</span> <span class="n">use_strict</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;strict_schema&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;lax_schema&#39;</span><span class="p">])</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.list_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">list_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.list_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">list_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a <code>List</code> value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.ListSchema">ListSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">list_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">ListSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a `List` value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">items_schema</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="s1">&#39;items_schema&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">])</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items_schema</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.literal_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">literal_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.literal_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">literal_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a <code>Literal</code> value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.LiteralSchema">LiteralSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">literal_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">LiteralSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a `Literal` value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">expected</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">value</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">Enum</span><span class="p">)</span> <span class="k">else</span> <span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;expected&#39;</span><span class="p">]]</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;const&#39;</span><span class="p">:</span> <span class="n">expected</span><span class="p">[</span><span class="mi">0</span><span class="p">]}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;enum&#39;</span><span class="p">:</span> <span class="n">expected</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.none_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">none_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.none_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">none_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a <code>None</code> value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.NoneSchema">NoneSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">none_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">NoneSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a `None` value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;null&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">render_warning_message</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.render_warning_message" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">render_warning_message</span><span class="p">(</span><span class="n">kind</span><span class="p">,</span> <span class="n">detail</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>This method is responsible for ignoring warnings as desired, and for formatting the warning messages.</p>
<p>You can override the value of <code>ignored_warning_kinds</code> in a subclass of GenerateJsonSchema
to modify what warnings are generated. If you want more control, you can override this method;
just return None in situations where you don't want warnings to be emitted.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">render_warning_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">kind</span><span class="p">:</span> <span class="n">JsonSchemaWarningKind</span><span class="p">,</span> <span class="n">detail</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This method is responsible for ignoring warnings as desired, and for formatting the warning messages.</span>

<span class="sd">    You can override the value of `ignored_warning_kinds` in a subclass of GenerateJsonSchema</span>
<span class="sd">    to modify what warnings are generated. If you want more control, you can override this method;</span>
<span class="sd">    just return None in situations where you don&#39;t want warnings to be emitted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignored_warning_kinds</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">detail</span><span class="si">}</span><span class="s1"> [</span><span class="si">{</span><span class="n">kind</span><span class="si">}</span><span class="s1">]&#39;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.resolve_collisions" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">resolve_collisions</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.resolve_collisions" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">resolve_collisions</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>This function ensures that any defs_ref's that were involved in collisions
(due to simplification of the core_ref) get updated, even if they were the
first occurrence of the colliding defs_ref.</p>
<p>This is intended to prevent confusion where the type that gets the "shortened"
ref depends on the order in which the types were visited.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_collisions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function ensures that any defs_ref&#39;s that were involved in collisions</span>
<span class="sd">    (due to simplification of the core_ref) get updated, even if they were the</span>
<span class="sd">    first occurrence of the colliding defs_ref.</span>

<span class="sd">    This is intended to prevent confusion where the type that gets the &quot;shortened&quot;</span>
<span class="sd">    ref depends on the order in which the types were visited.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">made_changes</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Note that because the defs ref choices eventually produce values that use the IDs and</span>
    <span class="c1"># should _never_ collide, it should not be possible for this while loop to run forever</span>
    <span class="k">while</span> <span class="n">made_changes</span><span class="p">:</span>
        <span class="n">made_changes</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">for</span> <span class="n">defs_ref</span><span class="p">,</span> <span class="n">core_mode_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">defs_to_core_refs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">defs_ref</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">collisions</span><span class="p">:</span>
                <span class="k">continue</span>

            <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">defs_ref_fallbacks</span><span class="p">[</span><span class="n">core_mode_ref</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="n">defs_ref</span> <span class="ow">or</span> <span class="n">choice</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">collisions</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">defs_to_core_refs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">choice</span><span class="p">,</span> <span class="n">core_mode_ref</span><span class="p">)</span> <span class="o">==</span> <span class="n">core_mode_ref</span><span class="p">:</span>
                    <span class="n">json_schema</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_defs_ref</span><span class="p">(</span><span class="n">defs_ref</span><span class="p">,</span> <span class="n">choice</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">)</span>
                    <span class="n">made_changes</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">collisions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">choice</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">made_changes</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.resolve_schema_to_update" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">resolve_schema_to_update</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.resolve_schema_to_update" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">resolve_schema_to_update</span><span class="p">(</span><span class="n">json_schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Resolve a JsonSchemaValue to the non-ref schema if it is a $ref schema</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resolve_schema_to_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resolve a JsonSchemaValue to the non-ref schema if it is a $ref schema&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="s1">&#39;$ref&#39;</span> <span class="ow">in</span> <span class="n">json_schema</span><span class="p">:</span>
        <span class="n">schema_to_update</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_schema_from_definitions</span><span class="p">(</span><span class="n">JsonRef</span><span class="p">(</span><span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$ref&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="n">schema_to_update</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot update undefined schema for $ref=</span><span class="si">{</span><span class="n">json_schema</span><span class="p">[</span><span class="s2">&quot;$ref&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">resolve_schema_to_update</span><span class="p">(</span><span class="n">schema_to_update</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">schema_to_update</span> <span class="o">=</span> <span class="n">json_schema</span>
    <span class="k">return</span> <span class="n">schema_to_update</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.set_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">set_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.set_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">set_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a <code>Set</code> schema.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.SetSchema">SetSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">SetSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a `Set` schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_common_set_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.str_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">str_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.str_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">str_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a string value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.StringSchema">StringSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">str_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">StringSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a string value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">string</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.time_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">time_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.time_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">time_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a time value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.TimeSchema">TimeSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">time_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TimeSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a time value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">timedelta_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.timedelta_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">timedelta_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a <code>timedelta</code> value.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.TimedeltaSchema">TimedeltaSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">timedelta_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TimedeltaSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a `timedelta` value.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;duration&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">tuple_positional_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.tuple_positional_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">tuple_positional_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a tuple of schemas.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.TuplePositionalSchema">TuplePositionalSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">tuple_positional_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TuplePositionalSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a tuple of schemas.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">}</span>
    <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;minItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">])</span>
    <span class="n">prefixItems</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">prefixItems</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;prefixItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefixItems</span>
    <span class="k">if</span> <span class="s1">&#39;extra_schema&#39;</span> <span class="ow">in</span> <span class="n">schema</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;extra_schema&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;maxItems&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">tuple_variable_schema</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.tuple_variable_schema" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">tuple_variable_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a schema that matches a tuple of a given schema.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic_core.core_schema" href="../pydantic_core_schema/#pydantic_core.core_schema">core_schema</a>.<span title="pydantic_core.core_schema.TupleVariableSchema">TupleVariableSchema</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>JsonSchemaValue</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The generated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">tuple_variable_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">schema</span><span class="p">:</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">TupleVariableSchema</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a schema that matches a tuple of a given schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema: The schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        JsonSchemaValue: The generated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">items_schema</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="s1">&#39;items_schema&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schema</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_inner</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;items_schema&#39;</span><span class="p">])</span>
    <span class="n">json_schema</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="n">items_schema</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">schema</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ValidationsMapping</span><span class="o">.</span><span class="n">array</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">update_with_validations</span>


<a href="#pydantic.json_schema.GenerateJsonSchema.update_with_validations" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">update_with_validations</span><span class="p">(</span><span class="n">json_schema</span><span class="p">,</span> <span class="n">core_schema</span><span class="p">,</span> <span class="n">mapping</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update the json_schema with the corresponding validations specified in the core_schema,
using the provided mapping to translate keys in core_schema to the appropriate keys for a JSON schema.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_with_validations</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">json_schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">,</span> <span class="n">core_schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">mapping</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update the json_schema with the corresponding validations specified in the core_schema,</span>
<span class="sd">    using the provided mapping to translate keys in core_schema to the appropriate keys for a JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">core_key</span><span class="p">,</span> <span class="n">json_schema_key</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">core_key</span> <span class="ow">in</span> <span class="n">core_schema</span><span class="p">:</span>
            <span class="n">json_schema</span><span class="p">[</span><span class="n">json_schema_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core_schema</span><span class="p">[</span><span class="n">core_key</span><span class="p">]</span>  <span class="c1"># type: ignore[literal-required]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.PydanticJsonSchemaWarning" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">PydanticJsonSchemaWarning</span>


<a href="#pydantic.json_schema.PydanticJsonSchemaWarning" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code>UserWarning</code></p>

  
      <p>This class is used to emit warnings produced during JSON schema generation.
See the <code>GenerateJsonSchema.emit_warning</code> and <code>GenerateJsonSchema.render_warning_message</code>
methods for more details; these can be overridden to control warning behavior.</p>



  </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="pydantic.json_schema.WithJsonSchema" class="doc doc-heading">
        <span class="doc doc-object-name doc-class-name">WithJsonSchema</span>


<a href="#pydantic.json_schema.WithJsonSchema" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">

  
      <p>Add this as an annotation on a field to override the (base) JSON schema that would be generated for that field.
This provides a way to set a JSON schema for types that would otherwise raise errors when producing a JSON schema,
such as Callable, or types that have an is-instance core schema, without needing to go so far as creating a
custom subclass of pydantic.json_schema.GenerateJsonSchema.
Note that any <em>modifications</em> to the schema that would normally be made (such as setting the title for model fields)
will still be performed.</p>
<p>If <code>mode</code> is set this will only apply to that schema generation mode, allowing you
to set different json schemas for validation and serialization.</p>



  

  <div class="doc doc-children">











  </div>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="pydantic.json_schema.model_json_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">model_json_schema</span>


<a href="#pydantic.json_schema.model_json_schema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">model_json_schema</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">,</span>
    <span class="n">by_alias</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="o">=</span><span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="o">=</span><span class="n">GenerateJsonSchema</span><span class="p">,</span>
    <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Utility function to generate a JSON Schema for a model.</p>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">model_json_schema</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">PydanticDataclass</span><span class="p">],</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">GenerateJsonSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">GenerateJsonSchema</span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n">JsonSchemaMode</span> <span class="o">=</span> <span class="s1">&#39;validation&#39;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to generate a JSON Schema for a model.&quot;&quot;&quot;</span>
    <span class="n">schema_generator_instance</span> <span class="o">=</span> <span class="n">schema_generator</span><span class="p">(</span><span class="n">by_alias</span><span class="o">=</span><span class="n">by_alias</span><span class="p">,</span> <span class="n">ref_template</span><span class="o">=</span><span class="n">ref_template</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">schema_generator_instance</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="pydantic.json_schema.models_json_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">models_json_schema</span>


<a href="#pydantic.json_schema.models_json_schema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">models_json_schema</span><span class="p">(</span>
    <span class="n">models</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">by_alias</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="o">=</span><span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="o">=</span><span class="n">GenerateJsonSchema</span>
<span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Utility function to generate a JSON Schema for multiple models.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>models</code></td>
          <td>
                <code><span title="typing.Sequence">Sequence</span>[tuple[type[<a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../main/#pydantic.main.BaseModel">BaseModel</a>] | type[<span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A sequence of tuples of the form (model, mode).</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>by_alias</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether field aliases should be used as keys in the generated JSON Schema.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The title of the generated JSON Schema.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str | None</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The description of the generated JSON Schema.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>ref_template</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The reference template to use for generating JSON Schema references.</p>
            </div>
          </td>
          <td>
                <code>DEFAULT_REF_TEMPLATE</code>
          </td>
        </tr>
        <tr>
          <td><code>schema_generator</code></td>
          <td>
                <code>type[<a class="autorefs autorefs-internal" title="pydantic.json_schema.GenerateJsonSchema" href="#pydantic.json_schema.GenerateJsonSchema">GenerateJsonSchema</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The schema generator to use for generating the JSON Schema.</p>
            </div>
          </td>
          <td>
                <code>GenerateJsonSchema</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[dict[tuple[type[<a class="autorefs autorefs-internal" title="pydantic.main.BaseModel" href="../main/#pydantic.main.BaseModel">BaseModel</a>] | type[<span title="pydantic._internal._dataclasses.PydanticDataclass">PydanticDataclass</span>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaMode" href="#pydantic.json_schema.JsonSchemaMode">JsonSchemaMode</a>], <span title="pydantic.json_schema.DefsRef">DefsRef</span>], <a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A 2-tuple, where:
- The first element is a dictionary whose keys are tuples of a JSON schema key type and mode, and
    whose values are <code>DefsRef</code>.
- The second element is the generated JSON Schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">models_json_schema</span><span class="p">(</span>
    <span class="n">models</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">PydanticDataclass</span><span class="p">],</span> <span class="n">JsonSchemaMode</span><span class="p">]],</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">by_alias</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">ref_template</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT_REF_TEMPLATE</span><span class="p">,</span>
    <span class="n">schema_generator</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">GenerateJsonSchema</span><span class="p">]</span> <span class="o">=</span> <span class="n">GenerateJsonSchema</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">|</span> <span class="nb">type</span><span class="p">[</span><span class="n">PydanticDataclass</span><span class="p">],</span> <span class="n">JsonSchemaMode</span><span class="p">],</span> <span class="n">DefsRef</span><span class="p">],</span> <span class="n">JsonSchemaValue</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility function to generate a JSON Schema for multiple models.</span>

<span class="sd">    Args:</span>
<span class="sd">        models: A sequence of tuples of the form (model, mode).</span>
<span class="sd">        by_alias: Whether field aliases should be used as keys in the generated JSON Schema.</span>
<span class="sd">        title: The title of the generated JSON Schema.</span>
<span class="sd">        description: The description of the generated JSON Schema.</span>
<span class="sd">        ref_template: The reference template to use for generating JSON Schema references.</span>
<span class="sd">        schema_generator: The schema generator to use for generating the JSON Schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A 2-tuple, where:</span>
<span class="sd">            - The first element is a dictionary whose keys are tuples of a JSON schema key type and mode, and</span>
<span class="sd">                whose values are `DefsRef`.</span>
<span class="sd">            - The second element is the generated JSON Schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="n">schema_generator</span><span class="p">(</span><span class="n">by_alias</span><span class="o">=</span><span class="n">by_alias</span><span class="p">,</span> <span class="n">ref_template</span><span class="o">=</span><span class="n">ref_template</span><span class="p">)</span>
    <span class="n">inputs</span> <span class="o">=</span> <span class="p">[(</span><span class="n">m</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">__pydantic_core_schema__</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">mode</span> <span class="ow">in</span> <span class="n">models</span><span class="p">]</span>
    <span class="n">key_map</span><span class="p">,</span> <span class="n">definitions</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">generate_definitions</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

    <span class="n">json_schema</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">definitions</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;$defs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">definitions</span>
    <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title</span>
    <span class="k">if</span> <span class="n">description</span><span class="p">:</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>

    <span class="k">return</span> <span class="n">key_map</span><span class="p">,</span> <span class="n">json_schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>

<div class="doc doc-object doc-function">



<h2 id="pydantic.json_schema.update_json_schema" class="doc doc-heading">
        <span class="doc doc-object-name doc-function-name">update_json_schema</span>


<a href="#pydantic.json_schema.update_json_schema" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">update_json_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">,</span> <span class="n">updates</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Update a JSON schema by providing a dictionary of updates.</p>
<p>This function sets the provided key-value pairs in the schema and returns the updated schema.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>schema</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The JSON schema to update.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>updates</code></td>
          <td>
                <code>dict[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary of key-value pairs to set in the schema.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>JsonSchemaValue</code></td>          <td>
                <code><a class="autorefs autorefs-internal" title="pydantic.json_schema.JsonSchemaValue" href="#pydantic.json_schema.JsonSchemaValue">JsonSchemaValue</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The updated JSON schema.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

      <details class="quote">
        <summary>Source code in <code>pydantic/json_schema.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">update_json_schema</span><span class="p">(</span><span class="n">schema</span><span class="p">:</span> <span class="n">JsonSchemaValue</span><span class="p">,</span> <span class="n">updates</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update a JSON schema by providing a dictionary of updates.</span>

<span class="sd">    This function sets the provided key-value pairs in the schema and returns the updated schema.</span>

<span class="sd">    Args:</span>
<span class="sd">        schema (JsonSchemaValue): The JSON schema to update.</span>
<span class="sd">        updates (dict[str, Any]): A dictionary of key-value pairs to set in the schema.</span>

<span class="sd">    Returns:</span>
<span class="sd">        JsonSchemaValue: The updated JSON schema.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">schema</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">updates</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">schema</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>



  </div>

  </div>

</div>





                
  <script src="/flarelytics/client.js"></script>

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "content.code.annotate", "announce.dismiss", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
        <script src="../../extra/redirects.js"></script>
      
    
  </body>
</html>