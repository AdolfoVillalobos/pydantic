
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Migrating from Pydantic V1.">
      
      
      
        <link rel="canonical" href="https://docs.pydantic.dev/latest/migration/">
      
      
        <link rel="prev" href="../install/">
      
      
        <link rel="next" href="../version-compatibility/">
      
      <link rel="icon" href="../favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Migration Guide - Pydantic</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../extra/terminal.css">
    
      <link rel="stylesheet" href="../extra/tweaks.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#install-pydantic-v2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
              </button>
            
            
  <!-- the following line is displayed in the announcement bar -->
<!-- keep length under 164 characters (less HTML tags) to fit on 1280px desktop window -->
<a href="https://docs.pydantic.dev/2.0/blog/pydantic-v2-final/">Pydantic V2</a> is here ðŸš€! Upgrading an existing app? See the <a href="https://docs.pydantic.dev/2.0/migration/">Migration Guide</a> for tips on essential changes from Pydantic V1!

          </div>
          
            <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Pydantic" class="md-header__button md-logo" aria-label="Pydantic" data-md-component="logo">
      
  <img src="../logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pydantic
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Migration Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link md-tabs__link--active">
        Get Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../usage/models/" class="md-tabs__link">
        Usage
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../errors/errors/" class="md-tabs__link">
        Error Messages
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../integrations/mypy/" class="md-tabs__link">
        Integrations
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../contributing/" class="md-tabs__link">
      Contribute
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../blog/pydantic-v2-final/" class="md-tabs__link">
        Blog
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../api/main/" class="md-tabs__link">
        API Documentation
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Pydantic" class="md-nav__button md-logo" aria-label="Pydantic" data-md-component="logo">
      
  <img src="../logo-white.svg" alt="logo">

    </a>
    Pydantic
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pydantic/pydantic" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pydantic/pydantic
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Get Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome to Pydantic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Migration Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Migration Guide
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-pydantic-v2" class="md-nav__link">
    Install Pydantic V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-transformation-tool" class="md-nav__link">
    Code Transformation Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-guide" class="md-nav__link">
    Migration guide
  </a>
  
    <nav class="md-nav" aria-label="Migration guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changes-to-pydanticbasemodel" class="md-nav__link">
    Changes to pydantic.BaseModel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-pydanticgenericsgenericmodel" class="md-nav__link">
    Changes to pydantic.generics.GenericModel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-pydanticfield" class="md-nav__link">
    Changes to pydantic.Field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-dataclasses" class="md-nav__link">
    Changes to dataclasses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-config" class="md-nav__link">
    Changes to config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-validators" class="md-nav__link">
    Changes to validators
  </a>
  
    <nav class="md-nav" aria-label="Changes to validators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validator-and-root_validator-are-deprecated" class="md-nav__link">
    @validator and @root_validator are deprecated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-validators-allowed-signatures" class="md-nav__link">
    Changes to @validator's allowed signatures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeerror-is-no-longer-converted-to-validationerror-in-validators" class="md-nav__link">
    TypeError is no longer converted to ValidationError in validators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validator-behavior-changes" class="md-nav__link">
    Validator behavior changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-allow_reuse-keyword-argument-is-no-longer-necessary" class="md-nav__link">
    The allow_reuse keyword argument is no longer necessary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_arguments-has-been-renamed-to-validate_call" class="md-nav__link">
    @validate_arguments has been renamed to @validate_call
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-types-are-not-preserved" class="md-nav__link">
    Input types are not preserved
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-handling-of-standard-types" class="md-nav__link">
    Changes to Handling of Standard Types
  </a>
  
    <nav class="md-nav" aria-label="Changes to Handling of Standard Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dicts" class="md-nav__link">
    Dicts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unions" class="md-nav__link">
    Unions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-optional-and-nullable-fields" class="md-nav__link">
    Required, optional, and nullable fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patterns-regex-on-strings" class="md-nav__link">
    Patterns / regex on strings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#introduction-of-typeadapter" class="md-nav__link">
    Introduction of TypeAdapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-custom-types" class="md-nav__link">
    Defining custom types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-json-schema-generation" class="md-nav__link">
    Changes to JSON schema generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basesettings-has-moved-to-pydantic-settings" class="md-nav__link">
    BaseSettings has moved to pydantic-settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color-and-payment-card-numbers-moved-to-pydantic-extra-types" class="md-nav__link">
    Color and Payment Card Numbers moved to pydantic-extra-types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moved-in-pydantic-v2" class="md-nav__link">
    Moved in Pydantic V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deprecated-and-moved-in-pydantic-v2" class="md-nav__link">
    Deprecated and moved in Pydantic V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removed-in-pydantic-v2" class="md-nav__link">
    Removed in Pydantic V2
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../version-compatibility/" class="md-nav__link">
        Version Compatibility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/models/" class="md-nav__link">
        Models
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Field Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Field Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/types/" class="md-nav__link">
        Types Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/standard_types/" class="md-nav__link">
        Standard Library Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/booleans/" class="md-nav__link">
        Booleans
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/bytesize/" class="md-nav__link">
        ByteSize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/callables/" class="md-nav__link">
        Callables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/datetime/" class="md-nav__link">
        Datetimes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/dicts_mapping/" class="md-nav__link">
        Dicts and Mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/encoded/" class="md-nav__link">
        Encoded Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/enums/" class="md-nav__link">
        Enums and Choices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/file_types/" class="md-nav__link">
        File Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/json/" class="md-nav__link">
        JSON
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/list_types/" class="md-nav__link">
        Lists and Tuples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/number_types/" class="md-nav__link">
        Number Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/secrets/" class="md-nav__link">
        Secret Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/sequence_iterable/" class="md-nav__link">
        Sequence, Iterable & Iterator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/set_types/" class="md-nav__link">
        Sets and frozenset
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/strict_types/" class="md-nav__link">
        Strict Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/string_types/" class="md-nav__link">
        String Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/typevars/" class="md-nav__link">
        Type and TypeVar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/types_fields/" class="md-nav__link">
        Types with Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/unions/" class="md-nav__link">
        Unions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/urls/" class="md-nav__link">
        URLs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/uuids/" class="md-nav__link">
        UUIDs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/encoded/" class="md-nav__link">
        Encoded
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/custom/" class="md-nav__link">
        Custom Data Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_26" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_26" id="__nav_2_2_26_label" tabindex="0">
          Extra Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_26_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_26">
          <span class="md-nav__icon md-icon"></span>
          Extra Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/extra_types/extra_types/" class="md-nav__link">
        Extra Types Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/extra_types/color_types/" class="md-nav__link">
        Color Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/extra_types/payment_cards/" class="md-nav__link">
        Payment Card Numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/extra_types/phone_numbers/" class="md-nav__link">
        Phone Numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/extra_types/routing_numbers/" class="md-nav__link">
        Routing Numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/types/extra_types/mac_address/" class="md-nav__link">
        MAC Address
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/validators/" class="md-nav__link">
        Validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/model_config/" class="md-nav__link">
        Model Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/fields/" class="md-nav__link">
        Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/json_schema/" class="md-nav__link">
        JSON Schema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/serialization/" class="md-nav__link">
        Serialization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/computed_fields/" class="md-nav__link">
        Computed Fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/dataclasses/" class="md-nav__link">
        Dataclasses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/validation_decorator/" class="md-nav__link">
        Validation Decorator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/postponed_annotations/" class="md-nav__link">
        Postponed Annotations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/strict_mode/" class="md-nav__link">
        Strict Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/conversion_table/" class="md-nav__link">
        Conversion Table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/pydantic_settings/" class="md-nav__link">
        Settings Management
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Error Messages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Error Messages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../errors/errors/" class="md-nav__link">
        Error Handling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/validation_errors/" class="md-nav__link">
        Validation Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../usage/errors/" class="md-nav__link">
        Usage Errors
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Integrations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Integrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/mypy/" class="md-nav__link">
        Mypy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/pycharm/" class="md-nav__link">
        PyCharm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/hypothesis/" class="md-nav__link">
        Hypothesis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/visual_studio_code/" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/datamodel_code_generator/" class="md-nav__link">
        datamodel-code-generator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/devtools/" class="md-nav__link">
        devtools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/rich/" class="md-nav__link">
        Rich
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contribute
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Blog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/pydantic-v2-final/" class="md-nav__link">
        Pydantic V2 Is Here!
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/pydantic-v2-alpha/" class="md-nav__link">
        Pydantic V2 Pre Release
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../blog/pydantic-v2/" class="md-nav__link">
        Pydantic V2 Plan
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          API Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          API Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
      
      
      
        <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
          Pydantic
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Pydantic
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/main/" class="md-nav__link">
        pydantic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/alias_generators/" class="md-nav__link">
        pydantic.alias_generators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/color/" class="md-nav__link">
        pydantic.color
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/config/" class="md-nav__link">
        pydantic.config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/dataclasses/" class="md-nav__link">
        pydantic.dataclasses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/errors/" class="md-nav__link">
        pydantic.errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/fields/" class="md-nav__link">
        pydantic.fields
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/functional_serializers/" class="md-nav__link">
        pydantic.functional_serializers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/functional_validators/" class="md-nav__link">
        pydantic.functional_validators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/json_schema/" class="md-nav__link">
        pydantic.json_schema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/mypy/" class="md-nav__link">
        pydantic.mypy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/networks/" class="md-nav__link">
        pydantic.networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/root_model/" class="md-nav__link">
        pydantic.root_model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/type_adapter/" class="md-nav__link">
        pydantic.type_adapter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/types/" class="md-nav__link">
        pydantic.types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/validate_call/" class="md-nav__link">
        pydantic.validate_call
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/version/" class="md-nav__link">
        pydantic.version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
      
      
      
        <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
          Pydantic Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Pydantic Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_core_init/" class="md-nav__link">
        pydantic_core
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_core_schema/" class="md-nav__link">
        pydantic_core.core_schema
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
      
      
      
        <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
          Pydantic Settings
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Pydantic Settings
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_settings/" class="md-nav__link">
        pydantic_settings
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
      
      
      
        <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
          Pydantic Extra Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Pydantic Extra Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_extra_types_color/" class="md-nav__link">
        pydantic_extra_types.color
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_extra_types_country/" class="md-nav__link">
        pydantic_extra_types.country
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_extra_types_payment/" class="md-nav__link">
        pydantic_extra_types.payment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_extra_types_phone_numbers/" class="md-nav__link">
        pydantic_extra_types.phone_numbers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/pydantic_extra_types_routing_number/" class="md-nav__link">
        pydantic_extra_types.routing_number
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-pydantic-v2" class="md-nav__link">
    Install Pydantic V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-transformation-tool" class="md-nav__link">
    Code Transformation Tool
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-guide" class="md-nav__link">
    Migration guide
  </a>
  
    <nav class="md-nav" aria-label="Migration guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changes-to-pydanticbasemodel" class="md-nav__link">
    Changes to pydantic.BaseModel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-pydanticgenericsgenericmodel" class="md-nav__link">
    Changes to pydantic.generics.GenericModel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-pydanticfield" class="md-nav__link">
    Changes to pydantic.Field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-dataclasses" class="md-nav__link">
    Changes to dataclasses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-config" class="md-nav__link">
    Changes to config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-validators" class="md-nav__link">
    Changes to validators
  </a>
  
    <nav class="md-nav" aria-label="Changes to validators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validator-and-root_validator-are-deprecated" class="md-nav__link">
    @validator and @root_validator are deprecated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-validators-allowed-signatures" class="md-nav__link">
    Changes to @validator's allowed signatures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeerror-is-no-longer-converted-to-validationerror-in-validators" class="md-nav__link">
    TypeError is no longer converted to ValidationError in validators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validator-behavior-changes" class="md-nav__link">
    Validator behavior changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-allow_reuse-keyword-argument-is-no-longer-necessary" class="md-nav__link">
    The allow_reuse keyword argument is no longer necessary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_arguments-has-been-renamed-to-validate_call" class="md-nav__link">
    @validate_arguments has been renamed to @validate_call
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-types-are-not-preserved" class="md-nav__link">
    Input types are not preserved
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-handling-of-standard-types" class="md-nav__link">
    Changes to Handling of Standard Types
  </a>
  
    <nav class="md-nav" aria-label="Changes to Handling of Standard Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dicts" class="md-nav__link">
    Dicts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unions" class="md-nav__link">
    Unions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-optional-and-nullable-fields" class="md-nav__link">
    Required, optional, and nullable fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patterns-regex-on-strings" class="md-nav__link">
    Patterns / regex on strings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#introduction-of-typeadapter" class="md-nav__link">
    Introduction of TypeAdapter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-custom-types" class="md-nav__link">
    Defining custom types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes-to-json-schema-generation" class="md-nav__link">
    Changes to JSON schema generation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basesettings-has-moved-to-pydantic-settings" class="md-nav__link">
    BaseSettings has moved to pydantic-settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#color-and-payment-card-numbers-moved-to-pydantic-extra-types" class="md-nav__link">
    Color and Payment Card Numbers moved to pydantic-extra-types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#moved-in-pydantic-v2" class="md-nav__link">
    Moved in Pydantic V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deprecated-and-moved-in-pydantic-v2" class="md-nav__link">
    Deprecated and moved in Pydantic V2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removed-in-pydantic-v2" class="md-nav__link">
    Removed in Pydantic V2
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


  <h1>Migration Guide</h1>

<p>Pydantic V2 introduces a number of changes to the API, including some breaking changes.</p>
<p>This page provides a guide highlighting the most
important changes to help you migrate your code from Pydantic V1 to Pydantic V2.</p>
<h2 id="install-pydantic-v2">Install Pydantic V2<a class="headerlink" href="#install-pydantic-v2" title="Permanent link">&para;</a></h2>
<p>Pydantic V2 is now the current production release of Pydantic.
You can install Pydantic V2 from PyPI:</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>pydantic
</code></pre></div>
<p>If you encounter any issues, please <a href="https://github.com/pydantic/pydantic/issues">create an issue in GitHub</a> using
the <code>bug V2</code> label. This will help us to actively monitor and track errors, and to continue to improve the library's
performance.</p>
<p>If you need to use latest Pydantic V1 for any reason, you can install it with:</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;pydantic==1.*&quot;</span>
</code></pre></div>
<h2 id="code-transformation-tool">Code Transformation Tool<a class="headerlink" href="#code-transformation-tool" title="Permanent link">&para;</a></h2>
<p>We have created a tool to help you migrate your code. This tool is still in beta, but we hope it will help you to
migrate your code more quickly.</p>
<p>You can install the tool from PyPI:</p>
<div class="highlight"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>bump-pydantic
</code></pre></div>
<p>The usage is simple. If your project structure is:</p>
<div class="highlight"><pre><span></span><code>* repo_folder
    * my_package
        * &lt;python source files&gt; ...
</code></pre></div>
<p>Then you'll want to do:</p>
<div class="highlight"><pre><span></span><code>cd /path/to/repo_folder
bump-pydantic my_package
</code></pre></div>
<p>See more about it on the <a href="https://github.com/pydantic/bump-pydantic">Bump Pydantic</a> repository.</p>
<h2 id="migration-guide">Migration guide<a class="headerlink" href="#migration-guide" title="Permanent link">&para;</a></h2>
<h3 id="changes-to-pydanticbasemodel">Changes to <code>pydantic.BaseModel</code><a class="headerlink" href="#changes-to-pydanticbasemodel" title="Permanent link">&para;</a></h3>
<p>Various method names have been changed; all non-deprecated <code>BaseModel</code> methods now have names matching either the
format <code>model_.*</code> or <code>__.*pydantic.*__</code>. Where possible, we have retained the deprecated methods with their old names
to help ease migration, but calling them will emit <code>DeprecationWarning</code>s.</p>
<table>
<thead>
<tr>
<th>Pydantic V1</th>
<th>Pydantic V2</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__fields__</code></td>
<td><code>model_fields</code></td>
</tr>
<tr>
<td><code>__private_attributes__</code></td>
<td><code>__pydantic_private__</code></td>
</tr>
<tr>
<td><code>__validators__</code></td>
<td><code>__pydantic_validator__</code></td>
</tr>
<tr>
<td><code>construct()</code></td>
<td><code>model_construct()</code></td>
</tr>
<tr>
<td><code>copy()</code></td>
<td><code>model_copy()</code></td>
</tr>
<tr>
<td><code>dict()</code></td>
<td><code>model_dump()</code></td>
</tr>
<tr>
<td><code>json_schema()</code></td>
<td><code>model_json_schema()</code></td>
</tr>
<tr>
<td><code>json()</code></td>
<td><code>model_dump_json()</code></td>
</tr>
<tr>
<td><code>parse_obj()</code></td>
<td><code>model_validate()</code></td>
</tr>
</tbody>
</table>
<ul>
<li>Some of the built-in data-loading functionality has been slated for removal. In particular,
    <code>parse_raw</code> and <code>parse_file</code> are now deprecated. In Pydantic V2, <code>model_validate_json</code> works like <code>parse_raw</code>. Otherwise, you should load the data and then pass it to <code>model_validate</code>.</li>
<li>The <code>from_orm</code> method has been deprecated; you can now just use <code>model_validate</code> (equivalent to <code>parse_obj</code> from
  Pydantic V1) to achieve something similar, as long as you've set <code>from_attributes=True</code> in the model config.</li>
<li>The <code>__eq__</code> method has changed for models.<ul>
<li>Models can only be equal to other <code>BaseModel</code> instances.</li>
<li>For two model instances to be equal, they must have the same:<ul>
<li>Type (or, in the case of generic models, non-parametrized generic origin type)</li>
<li>Field values</li>
<li>Extra values (only relevant when <code>model_config['extra'] == 'allow'</code>)</li>
<li>Private attribute values; models with different values of private attributes are no longer equal.</li>
<li>Models are no longer equal to the dicts containing their data.</li>
<li>Non-generic models of different types are never equal.</li>
<li>Generic models with different origin types are never equal. We don't require <em>exact</em> type equality so that,
    for example, instances of <code>MyGenericModel[Any]</code> could be equal to instances of <code>MyGenericModel[int]</code>.</li>
</ul>
</li>
</ul>
</li>
<li>We have replaced the use of the <code>__root__</code> field to specify a "custom root model" with a new type called
    <a href="../usage/models/#rootmodel-and-custom-root-types"><code>RootModel</code></a> which is intended to replace the functionality of
    using a field called <code>__root__</code> in Pydantic V1.</li>
<li>We have significantly expanded Pydantic's capabilities related to customizing serialization. In particular, we have
    added the <a href="../api/functional_serializers/#pydantic.functional_serializers.field_serializer"><code>@field_serializer</code></a>,
    <a href="../api/functional_serializers/#pydantic.functional_serializers.model_serializer"><code>@model_serializer</code></a>, and
    <a href="../api/fields/#pydantic.fields.computed_field"><code>@computed_field</code></a> decorators, which each address various
    shortcomings from Pydantic V1.<ul>
<li>See <a href="../usage/serialization/#custom-serializers">Custom serializers</a> for the usage docs of these new decorators.</li>
<li>Due to performance overhead and implementation complexity, we have now removed support for specifying
    <code>json_encoders</code> in the model config. This functionality was originally added for the purpose of achieving custom
    serialization logic, and we think the new serialization decorators are a better choice in most common scenarios.
    However, if your usage of <code>json_encoders</code> is not compatible with the new serialization decorators,
    please create a GitHub issue letting us know. See <a href="../usage/types/custom/">Custom data types</a> for further
    details.</li>
</ul>
</li>
<li>We have changed the behavior related to serializing subclasses of models when they occur as nested fields in a parent
  model. In V1, we would always include all fields from the subclass instance. In V2, when we dump a model, we only
  include the fields that are defined on the annotated type of the field. This helps prevent some accidental security
  bugs. You can read more about this (including how to opt out of this behavior) in the
  <a href="../usage/serialization/#subclass-instances-for-fields-of-basemodel-dataclasses-typeddict">Subclass instances for fields of BaseModel, dataclasses, TypedDict</a>
  section of the model exporting docs.</li>
<li><code>GetterDict</code> has been removed as it was just an implementation detail of <code>orm_mode</code>, which has been removed.</li>
</ul>
<h3 id="changes-to-pydanticgenericsgenericmodel">Changes to <code>pydantic.generics.GenericModel</code><a class="headerlink" href="#changes-to-pydanticgenericsgenericmodel" title="Permanent link">&para;</a></h3>
<p>The <code>pydantic.generics.GenericModel</code> class is no longer necessary, and has been removed. Instead, you can now
create generic <code>BaseModel</code> subclasses by just adding <code>Generic</code> as a parent class on a <code>BaseModel</code> subclass directly.
This looks like <code>class MyGenericModel(BaseModel, Generic[T]): ...</code>.</p>
<p>While it may not raise an error, we strongly advise against using <em>parametrized</em> generics in <code>isinstance</code> checks.</p>
<ul>
<li>For example, you should not do <code>isinstance(my_model, MyGenericModel[int])</code>.
    However, it is fine to do <code>isinstance(my_model, MyGenericModel)</code>. (Note that for standard generics, it would raise
    an error to do a subclass check with a parameterized generic.)</li>
<li>If you need to perform <code>isinstance</code> checks against parametrized generics, you can do this by subclassing the
    parametrized generic class. This looks like <code>class MyIntModel(MyGenericModel[int]): ...</code> and
    <code>isinstance(my_model, MyIntModel)</code>.</li>
</ul>
<p>Find more information in the <a href="../usage/models/#generic-models">Generic models</a> documentation.</p>
<h3 id="changes-to-pydanticfield">Changes to <code>pydantic.Field</code><a class="headerlink" href="#changes-to-pydanticfield" title="Permanent link">&para;</a></h3>
<p><code>Field</code> no longer supports arbitrary keyword arguments to be added to the JSON schema. Instead, any extra
data you want to add to the JSON schema should be passed as a dictionary to the <code>json_schema_extra</code> keyword argument.</p>
<p>The following properties have been removed from or changed in <code>Field</code>:</p>
<ul>
<li><code>const</code></li>
<li><code>min_items</code> (use <code>min_length</code> instead)</li>
<li><code>max_items</code> (use <code>max_length</code> instead)</li>
<li><code>unique_items</code></li>
<li><code>allow_mutation</code> (use <code>frozen</code> instead)</li>
<li><code>regex</code> (use <code>pattern</code> instead)</li>
<li>
<p><code>final</code> (use the <code>typing.Final</code> type hint instead)</p>
</li>
<li>
<p>[TODO: Need to document any other backwards-incompatible changes to <code>pydantic.Field</code>]</p>
</li>
</ul>
<h3 id="changes-to-dataclasses">Changes to dataclasses<a class="headerlink" href="#changes-to-dataclasses" title="Permanent link">&para;</a></h3>
<ul>
<li>When used as fields, dataclasses (Pydantic or vanilla) no longer accept tuples as validation inputs; dicts should be
  used instead.</li>
<li>The <code>__post_init__</code> in Pydantic dataclasses will now be called <em>after</em> validation, rather than before.<ul>
<li>As a result, the <code>__post_init_post_parse__</code> method would have become redundant, so has been removed.</li>
</ul>
</li>
<li>We no longer support <code>extra='allow'</code> for Pydantic dataclasses, where extra fields passed to the initializer would be
  stored as extra attributes on the dataclass. <code>extra='ignore'</code> is still supported for the purpose of ignoring
  unexpected fields while parsing data, they just won't be stored on the instance.</li>
<li>Pydantic dataclasses no longer have an attribute <code>__pydantic_model__</code>, and no longer use an underlying <code>BaseModel</code>
  to perform validation or provide other functionality.<ul>
<li>To perform validation, generate a JSON schema, or make use of
  any other functionality that may have required <code>__pydantic_model__</code> in V1, you should now wrap the dataclass
  with a <code>TypeAdapter</code> (discussed more below) and make use of its methods.</li>
<li>[TODO: Add link to TypeAdapter documentation. You can find example usage in <code>tests/test_type_adapter.py</code>.]</li>
</ul>
</li>
<li>In Pydantic V1, if you used a vanilla (i.e., non-Pydantic) dataclass as a field, the config of the parent type would
  be used as though it was the config for the dataclass itself as well. In Pydantic V2, this is no longer the case.<ul>
<li>[TODO: Need to specify how to override the config used for vanilla dataclass; possibly need to add functionality?]</li>
</ul>
</li>
</ul>
<h3 id="changes-to-config">Changes to config<a class="headerlink" href="#changes-to-config" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>In Pydantic V2, to specify config on a model, you should set a class attribute called <code>model_config</code> to be a dict
  with the key/value pairs you want to be used as the config. The Pydantic V1 behavior to create a class called <code>Config</code>
  in the namespace of the parent <code>BaseModel</code> subclass is now deprecated.</p>
</li>
<li>
<p>The following config settings have been removed:</p>
<ul>
<li><code>allow_mutation</code> â€” this has been removed. You should be able to use <a href="../api/config/#pydantic.config.ConfigDict">frozen</a> equivalently (inverse of current use).</li>
<li><code>error_msg_templates</code>.</li>
<li><code>fields</code> â€” this was the source of various bugs, so has been removed.
  You should be able to use <code>Annotated</code> on fields to modify them as desired.</li>
<li><code>getter_dict</code> â€” <code>orm_mode</code> has been removed, and this implementation detail is no longer necessary.</li>
<li><code>smart_union</code>.</li>
<li><code>underscore_attrs_are_private</code> â€” the Pydantic V2 behavior is now the same as if this was always set
  to <code>True</code> in Pydantic V1.</li>
</ul>
</li>
<li>
<p>The following config settings have been renamed:</p>
<ul>
<li><code>allow_population_by_field_name</code> â†’ <code>populate_by_name</code></li>
<li><code>anystr_lower</code> â†’ <code>str_to_lower</code></li>
<li><code>anystr_strip_whitespace</code> â†’ <code>str_strip_whitespace</code></li>
<li><code>anystr_upper</code> â†’ <code>str_to_upper</code></li>
<li><code>keep_untouched</code> â†’ <code>ignored_types</code></li>
<li><code>max_anystr_length</code> â†’ <code>str_max_length</code></li>
<li><code>min_anystr_length</code> â†’ <code>str_min_length</code></li>
<li><code>orm_mode</code> â†’ <code>from_attributes</code></li>
<li><code>schema_extra</code> â†’ <code>json_schema_extra</code></li>
<li><code>validate_all</code> â†’ <code>validate_default</code></li>
</ul>
</li>
</ul>
<p>See <a href="../usage/model_config/">Model Config</a> for more details.</p>
<h3 id="changes-to-validators">Changes to validators<a class="headerlink" href="#changes-to-validators" title="Permanent link">&para;</a></h3>
<h4 id="validator-and-root_validator-are-deprecated"><code>@validator</code> and <code>@root_validator</code> are deprecated<a class="headerlink" href="#validator-and-root_validator-are-deprecated" title="Permanent link">&para;</a></h4>
<ul>
<li><code>@validator</code> has been deprecated, and should be replaced with <a href="../usage/validators/"><code>@field_validator</code></a>, which provides various new features
    and improvements.<ul>
<li>The new <code>@field_validator</code> decorator does not have the <code>each_item</code> keyword argument; validators you want to
    apply to items within a generic container should be added by annotating the type argument. See
    <a href="../usage/validators/#generic-validated-collections">validators in Annotated metadata</a> for details.
    This looks like <code>List[Annotated[int, Field(ge=0)]]</code></li>
<li>Even if you keep using the deprecated <code>@validator</code> decorator, you can no longer add the <code>field</code> or
    <code>config</code> arguments to the signature of validator functions. If you need access to these, you'll need
    to migrate to <code>@field_validator</code> â€” see the <a href="#changes-to-validators-allowed-signatures">next section</a>
    for more details.</li>
<li>If you use the <code>always=True</code> keyword argument to a validator function, note that standard validators
    for the annotated type will <em>also</em> be applied even to defaults, not just the custom validators. For
    example, despite the fact that the validator below will never error, the following code raises a <code>ValidationError</code>:</li>
</ul>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">validator</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">always</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">validate_x</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">v</span>


<span class="n">Model</span><span class="p">()</span>
</code></pre></div>
<ul>
<li><code>@root_validator</code> has been deprecated, and should be replaced with
    <a href="../api/functional_validators/#pydantic.functional_validators.model_validator"><code>@model_validator</code></a>, which also provides new features and improvements.<ul>
<li>Under some circumstances (such as assignment when <code>model_config['validate_assignment'] is True</code>),
    the <code>@model_validator</code> decorator will receive an instance of the model, not a dict of values. You may
    need to be careful to handle this case.</li>
<li>Even if you keep using the deprecated <code>@root_validator</code> decorator, due to refactors in validation logic,
    you can no longer run with <code>skip_on_failure=False</code> (which is the default value of this keyword argument,
    so must be set explicitly to <code>True</code>).</li>
</ul>
</li>
</ul>
<h4 id="changes-to-validators-allowed-signatures">Changes to <code>@validator</code>'s allowed signatures<a class="headerlink" href="#changes-to-validators-allowed-signatures" title="Permanent link">&para;</a></h4>
<p>In Pydantic V1, functions wrapped by <code>@validator</code> could receive keyword arguments with metadata about what was
being validated. Some of these arguments have been removed from <code>@field_validator</code> in Pydantic V2:</p>
<ul>
<li><code>config</code>: Pydantic V2's config is now a dictionary instead of a class, which means this argument is no longer
    backwards compatible. If you need to access the configuration you should migrate to <code>@field_validator</code> and use
    <code>info.config</code>.</li>
<li><code>field</code>: this argument used to be a <code>ModelField</code> object, which was a quasi-internal class that no longer exists
    in Pydantic V2. Most of this information can still be accessed by using the field name from <code>info.field_name</code>
    to index into <code>cls.model_fields</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">FieldValidationInfo</span><span class="p">,</span> <span class="n">field_validator</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">val_x</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">info</span><span class="p">:</span> <span class="n">FieldValidationInfo</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">info</span><span class="o">.</span><span class="n">config</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">))</span>
        <span class="c1">#&gt; Model</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">model_fields</span><span class="p">[</span><span class="n">info</span><span class="o">.</span><span class="n">field_name</span><span class="p">]</span><span class="o">.</span><span class="n">is_required</span><span class="p">())</span>
        <span class="c1">#&gt; True</span>
        <span class="k">return</span> <span class="n">v</span>


<span class="n">Model</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<h4 id="typeerror-is-no-longer-converted-to-validationerror-in-validators"><code>TypeError</code> is no longer converted to <code>ValidationError</code> in validators<a class="headerlink" href="#typeerror-is-no-longer-converted-to-validationerror-in-validators" title="Permanent link">&para;</a></h4>
<p>Previously, when raising a <code>TypeError</code> within a validator function, that error would be wrapped into a <code>ValidationError</code>
and, in some cases (such as with FastAPI), these errors might be displayed to end users. This led to a variety of
undesirable behavior &mdash; for example, calling a function with the wrong signature might produce a user-facing
<code>ValidationError</code>.</p>
<p>However, in Pydantic V2, when a <code>TypeError</code> is raised in a validator, it is no longer converted into a
<code>ValidationError</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">field_validator</span>  <span class="c1"># or validator</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">val_x</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>  <span class="c1"># raises a TypeError</span>


<span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">):</span>
    <span class="n">Model</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>This applies to all validation decorators.</p>
<h4 id="validator-behavior-changes">Validator behavior changes<a class="headerlink" href="#validator-behavior-changes" title="Permanent link">&para;</a></h4>
<p>Pydantic V2 includes some changes to type coercion. For example:</p>
<ul>
<li>int, float, and decimal values are no longer coerced to strings.</li>
<li>iterable of pairs is no longer coerced to a dict.</li>
</ul>
<p>See the <a href="../usage/conversion_table/">Conversion table</a> for details on Pydantic V2 type coercion defaults.</p>
<h4 id="the-allow_reuse-keyword-argument-is-no-longer-necessary">The <code>allow_reuse</code> keyword argument is no longer necessary<a class="headerlink" href="#the-allow_reuse-keyword-argument-is-no-longer-necessary" title="Permanent link">&para;</a></h4>
<p>Previously, Pydantic tracked "reused" functions in decorators as this was a common source of mistakes.
We did this by comparing the function's fully qualified name (module name + function name), which could result in false
positives. The <code>allow_reuse</code> keyword argument could be used to disable this when it was intentional.</p>
<p>Our approach to detecting repeatedly defined functions has been overhauled to only error for redefinition within a
single class, reducing false positives and bringing the behavior more in line with the errors that type checkers
and linters would give for defining a method with the same name multiple times in a single class definition.</p>
<p>In nearly all cases, if you were using <code>allow_reuse=True</code>, you should be able to simply delete that keyword argument and
have things keep working as expected.</p>
<h4 id="validate_arguments-has-been-renamed-to-validate_call"><code>@validate_arguments</code> has been renamed to <code>@validate_call</code><a class="headerlink" href="#validate_arguments-has-been-renamed-to-validate_call" title="Permanent link">&para;</a></h4>
<p>In Pydantic V2, the <code>@validate_arguments</code> decorator has been renamed to <code>@validate_call</code>.</p>
<p>In Pydantic V1, the decorated function had various attributes added, such as <code>raw_function</code>, and <code>validate</code>
(which could be used to validate arguments without actually calling the decorated function). Due to limited use of
these attributes, and performance-oriented changes in implementation, we have not preserved this functionality in
<code>@validate_call</code>.</p>
<h3 id="input-types-are-not-preserved">Input types are not preserved<a class="headerlink" href="#input-types-are-not-preserved" title="Permanent link">&para;</a></h3>
<p>In Pydantic V1 we made great efforts to preserve the types of all field inputs for generic collections when they were
proper subtypes of the field annotations. For example, given the annotation <code>Mapping[str, int]</code> if you passed in a
<code>collection.Counter()</code> you'd get a <code>collection.Counter()</code> as the value.</p>
<p>Supporting this behavior in V2 would have negative performance implications for the general case
(we'd have to check types every time) and would add a lot of complexity to validation. Further, even in V1 this behavior
was inconsistent and partially broken: it did not work for many types (<code>str</code>, <code>UUID</code>, etc.), and for generic
collections it's impossible to re-build the original input correctly without a lot of special casing
(consider <code>ChainMap</code>; rebuilding the input is necessary because we need to replace values after validation, e.g.
if coercing strings to ints).</p>
<p>In Pydantic V2 we no longer attempt to preserve the input type in all cases; instead, we only promise that the output
type will match the type annotations.</p>
<p>Going back to the <code>Mapping</code> example, we promise the output will be a valid <code>Mapping</code>, and in practice it will be a
plain <code>dict</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Python 3.7 and above</label><label for="__tabbed_1_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Mapping</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">TypeAdapter</span>


<span class="k">class</span> <span class="nc">MyDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">ta</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="n">MyDict</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="c1">#&gt; &lt;class &#39;dict&#39;&gt;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Mapping</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">TypeAdapter</span>


<span class="k">class</span> <span class="nc">MyDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">ta</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="n">MyDict</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>
<span class="c1">#&gt; &lt;class &#39;dict&#39;&gt;</span>
</code></pre></div>
</div>
</div>
</div>
<p>If you want the output type to be a specific type, consider annotating it as such or implementing a custom validator:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Python 3.7 and above</label><label for="__tabbed_2_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TypeAdapter</span><span class="p">,</span>
    <span class="n">ValidationInfo</span><span class="p">,</span>
    <span class="n">ValidatorFunctionWrapHandler</span><span class="p">,</span>
    <span class="n">WrapValidator</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">def</span> <span class="nf">restore_input_type</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">ValidatorFunctionWrapHandler</span><span class="p">,</span> <span class="n">_info</span><span class="p">:</span> <span class="n">ValidationInfo</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)(</span><span class="n">handler</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>


<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="n">PreserveType</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">WrapValidator</span><span class="p">(</span><span class="n">restore_input_type</span><span class="p">)]</span>


<span class="n">ta</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="n">PreserveType</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]])</span>


<span class="k">class</span> <span class="nc">MyDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">v</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="n">MyDict</span><span class="p">())</span>
<span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="n">MyDict</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">TypeVar</span>
<span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Mapping</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TypeAdapter</span><span class="p">,</span>
    <span class="n">ValidationInfo</span><span class="p">,</span>
    <span class="n">ValidatorFunctionWrapHandler</span><span class="p">,</span>
    <span class="n">WrapValidator</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">def</span> <span class="nf">restore_input_type</span><span class="p">(</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">ValidatorFunctionWrapHandler</span><span class="p">,</span> <span class="n">_info</span><span class="p">:</span> <span class="n">ValidationInfo</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)(</span><span class="n">handler</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>


<span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>
<span class="n">PreserveType</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">WrapValidator</span><span class="p">(</span><span class="n">restore_input_type</span><span class="p">)]</span>


<span class="n">ta</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="n">PreserveType</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]])</span>


<span class="k">class</span> <span class="nc">MyDict</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="n">v</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="n">MyDict</span><span class="p">())</span>
<span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="ow">is</span> <span class="n">MyDict</span>
</code></pre></div>
</div>
</div>
</div>
<p>While we don't promise to preserve input types everywhere, we <em>do</em> preserve them for subclasses of <code>BaseModel</code>,
and for dataclasses:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pydantic.dataclasses</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">InnerModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>


<span class="k">class</span> <span class="nc">OuterModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">inner</span><span class="p">:</span> <span class="n">InnerModel</span>


<span class="k">class</span> <span class="nc">SubInnerModel</span><span class="p">(</span><span class="n">InnerModel</span><span class="p">):</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span>


<span class="n">m</span> <span class="o">=</span> <span class="n">OuterModel</span><span class="p">(</span><span class="n">inner</span><span class="o">=</span><span class="n">SubInnerModel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1">#&gt; inner=SubInnerModel(x=1, y=2)</span>


<span class="nd">@pydantic</span><span class="o">.</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">InnerDataclass</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>


<span class="nd">@pydantic</span><span class="o">.</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">SubInnerDataclass</span><span class="p">(</span><span class="n">InnerDataclass</span><span class="p">):</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span>


<span class="nd">@pydantic</span><span class="o">.</span><span class="n">dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">OuterDataclass</span><span class="p">:</span>
    <span class="n">inner</span><span class="p">:</span> <span class="n">InnerDataclass</span>


<span class="n">d</span> <span class="o">=</span> <span class="n">OuterDataclass</span><span class="p">(</span><span class="n">inner</span><span class="o">=</span><span class="n">SubInnerDataclass</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="c1">#&gt; OuterDataclass(inner=SubInnerDataclass(x=1, y=2))</span>
</code></pre></div>
<h3 id="changes-to-handling-of-standard-types">Changes to Handling of Standard Types<a class="headerlink" href="#changes-to-handling-of-standard-types" title="Permanent link">&para;</a></h3>
<h4 id="dicts">Dicts<a class="headerlink" href="#dicts" title="Permanent link">&para;</a></h4>
<p>Iterables of pairs (which include empty iterables) no longer pass validation for fields of type <code>dict</code>.</p>
<h4 id="unions">Unions<a class="headerlink" href="#unions" title="Permanent link">&para;</a></h4>
<p>While union types will still attempt validation of each choice from left to right, they now preserve the type of the
input whenever possible, even if the correct type is not the first choice for which the input would pass validation.
As a demonstration, consider the following example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">Python 3.7 and above</label><label for="__tabbed_3_2">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">))</span>
<span class="c1">#&gt; x=&#39;1&#39;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span>


<span class="nb">print</span><span class="p">(</span><span class="n">Model</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">))</span>
<span class="c1">#&gt; x=&#39;1&#39;</span>
</code></pre></div>
</div>
</div>
</div>
<p>In Pydantic V1, the printed result would have been <code>x=1</code>, since the value would pass validation as an <code>int</code>.
In Pydantic V2, we recognize that the value is an instance of one of the cases and short-circuit the standard union validation.</p>
<h4 id="required-optional-and-nullable-fields">Required, optional, and nullable fields<a class="headerlink" href="#required-optional-and-nullable-fields" title="Permanent link">&para;</a></h4>
<p>Pydantic V2 changes some of the logic for specifying whether a field annotated as <code>Optional</code> is required
(i.e., has no default value) or not (i.e., has a default value of <code>None</code> or any other value of the corresponding type), and now more closely matches the
behavior of <code>dataclasses</code>. Similarly, fields annotated as <code>Any</code> no longer have a default value of <code>None</code>.</p>
<p>The following table describes the behavior of field annotations in V2:</p>
<table>
<thead>
<tr>
<th>State</th>
<th>Field Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Required, cannot be <code>None</code></td>
<td><code>f1: str</code></td>
</tr>
<tr>
<td>Not required, cannot be <code>None</code>, is <code>'abc'</code> by default</td>
<td><code>f3: str = 'abc'</code></td>
</tr>
<tr>
<td>Required, can be <code>None</code></td>
<td><code>f2: Optional[str]</code></td>
</tr>
<tr>
<td>Not required, can be <code>None</code>, is <code>None</code> by default</td>
<td><code>f3: Optional[str] = None</code></td>
</tr>
<tr>
<td>Not required, can be <code>None</code>, is <code>'abc'</code> by default</td>
<td><code>f3: Optional[str] = 'abc'</code></td>
</tr>
<tr>
<td>Not required, cannot be <code>None</code></td>
<td><code>f4: str = 'Foobar'</code></td>
</tr>
<tr>
<td>Required, can be any type (including <code>None</code>)</td>
<td><code>f5: Any</code></td>
</tr>
<tr>
<td>Not required, can be any type (including <code>None</code>)</td>
<td><code>f6: Any = None</code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A field annotated as <code>typing.Optional[T]</code> will be required, and will allow for a value of <code>None</code>.
It does not mean that the field has a default value of <code>None</code>. <em>(This is a breaking change from V1.)</em></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any default value if provided makes a field not required.</p>
</div>
<p>Here is a code example demonstrating the above:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:2"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">Python 3.7 and above</label><label for="__tabbed_4_2">Python 3.10 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">f1</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># required, cannot be None</span>
    <span class="n">f2</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>  <span class="c1"># required, can be None - same as str | None</span>
    <span class="n">f3</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># not required, can be None</span>
    <span class="n">f4</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Foobar&#39;</span>  <span class="c1"># not required, but cannot be None</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">Foo</span><span class="p">(</span><span class="n">f1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">f2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">f4</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Foo</span>
<span class="sd">    f1</span>
<span class="sd">      Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">f1</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># required, cannot be None</span>
    <span class="n">f2</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>  <span class="c1"># required, can be None - same as str | None</span>
    <span class="n">f3</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># not required, can be None</span>
    <span class="n">f4</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Foobar&#39;</span>  <span class="c1"># not required, but cannot be None</span>


<span class="k">try</span><span class="p">:</span>
    <span class="n">Foo</span><span class="p">(</span><span class="n">f1</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">f2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">f4</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for Foo</span>
<span class="sd">    f1</span>
<span class="sd">      Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h4 id="patterns-regex-on-strings">Patterns / regex on strings<a class="headerlink" href="#patterns-regex-on-strings" title="Permanent link">&para;</a></h4>
<p>Pydantic V1 used Python's regex library. Pydantic V2 uses the Rust <a href="https://github.com/rust-lang/regex">regex crate</a>.
This crate is not just a "Rust version of regular expressions", it's a completely different approach to regular expressions.
In particular, it promises linear time searching of strings in exchange for dropping a couple of features (namely look arounds and backreferences).
We believe this is a tradeoff worth making, in particular because Pydantic is used to validate untrusted input where ensuring things don't accidentally run in exponential time depending on the untrusted input is important.
On the flipside, for anyone not using these features complex regex validation should be orders of magnitude faster because it's done in Rust and in linear time.
If you need those regex features you can create a custom validator that does the regex validation in Python:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">Python 3.7 and above</label><label for="__tabbed_5_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">from</span> <span class="nn">pydantic_core</span> <span class="kn">import</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">PydanticCustomError</span><span class="p">,</span> <span class="n">core_schema</span>
<span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">GetCoreSchemaHandler</span><span class="p">,</span>
    <span class="n">GetJsonSchemaHandler</span><span class="p">,</span>
    <span class="n">TypeAdapter</span><span class="p">,</span>
    <span class="n">ValidationError</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pydantic.json_schema</span> <span class="kn">import</span> <span class="n">JsonSchemaValue</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Regex</span><span class="p">:</span>
    <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span> <span class="nf">__get_pydantic_core_schema__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">source_type</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">GetCoreSchemaHandler</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CoreSchema</span><span class="p">:</span>
        <span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">match</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">regex</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">PydanticCustomError</span><span class="p">(</span>
                    <span class="s1">&#39;string_pattern_mismatch&#39;</span><span class="p">,</span>
                    <span class="s2">&quot;String should match pattern &#39;</span><span class="si">{pattern}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;pattern&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pattern</span><span class="p">},</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">v</span>

        <span class="k">return</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">no_info_after_validator_function</span><span class="p">(</span>
            <span class="n">match</span><span class="p">,</span>
            <span class="n">handler</span><span class="p">(</span><span class="n">source_type</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__get_pydantic_json_schema__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">core_schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">GetJsonSchemaHandler</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="n">handler</span><span class="p">(</span><span class="n">core_schema</span><span class="p">)</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;pattern&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pattern</span>
        <span class="k">return</span> <span class="n">json_schema</span>


<span class="n">ta</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Regex</span><span class="p">(</span><span class="s1">&#39;^(?!_)(?!.*__)[a-z_]{1,64}(?&lt;!_)$&#39;</span><span class="p">)])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ta</span><span class="o">.</span><span class="n">json_schema</span><span class="p">())</span>
<span class="c1">#&gt; {&#39;pattern&#39;: &#39;^(?!_)(?!.*__)[a-z_]{1,64}(?&lt;!_)$&#39;, &#39;type&#39;: &#39;string&#39;}</span>

<span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="s1">&#39;hello_world&#39;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="s1">&#39;_invalid_&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for function-after[match(), str]</span>
<span class="sd">      String should match pattern &#39;^(?!_)(?!.*__)[a-z_]{1,64}(?&lt;!_)$&#39; [type=string_pattern_mismatch, input_value=&#39;_invalid_&#39;, input_type=str]</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">from</span> <span class="nn">pydantic_core</span> <span class="kn">import</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">PydanticCustomError</span><span class="p">,</span> <span class="n">core_schema</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Annotated</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">GetCoreSchemaHandler</span><span class="p">,</span>
    <span class="n">GetJsonSchemaHandler</span><span class="p">,</span>
    <span class="n">TypeAdapter</span><span class="p">,</span>
    <span class="n">ValidationError</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pydantic.json_schema</span> <span class="kn">import</span> <span class="n">JsonSchemaValue</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Regex</span><span class="p">:</span>
    <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span> <span class="nf">__get_pydantic_core_schema__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">source_type</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">GetCoreSchemaHandler</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CoreSchema</span><span class="p">:</span>
        <span class="n">regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pattern</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">match</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">regex</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">PydanticCustomError</span><span class="p">(</span>
                    <span class="s1">&#39;string_pattern_mismatch&#39;</span><span class="p">,</span>
                    <span class="s2">&quot;String should match pattern &#39;</span><span class="si">{pattern}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
                    <span class="p">{</span><span class="s1">&#39;pattern&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pattern</span><span class="p">},</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="n">v</span>

        <span class="k">return</span> <span class="n">core_schema</span><span class="o">.</span><span class="n">no_info_after_validator_function</span><span class="p">(</span>
            <span class="n">match</span><span class="p">,</span>
            <span class="n">handler</span><span class="p">(</span><span class="n">source_type</span><span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__get_pydantic_json_schema__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">core_schema</span><span class="p">:</span> <span class="n">CoreSchema</span><span class="p">,</span> <span class="n">handler</span><span class="p">:</span> <span class="n">GetJsonSchemaHandler</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">JsonSchemaValue</span><span class="p">:</span>
        <span class="n">json_schema</span> <span class="o">=</span> <span class="n">handler</span><span class="p">(</span><span class="n">core_schema</span><span class="p">)</span>
        <span class="n">json_schema</span><span class="p">[</span><span class="s1">&#39;pattern&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pattern</span>
        <span class="k">return</span> <span class="n">json_schema</span>


<span class="n">ta</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Regex</span><span class="p">(</span><span class="s1">&#39;^(?!_)(?!.*__)[a-z_]{1,64}(?&lt;!_)$&#39;</span><span class="p">)])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ta</span><span class="o">.</span><span class="n">json_schema</span><span class="p">())</span>
<span class="c1">#&gt; {&#39;pattern&#39;: &#39;^(?!_)(?!.*__)[a-z_]{1,64}(?&lt;!_)$&#39;, &#39;type&#39;: &#39;string&#39;}</span>

<span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="s1">&#39;hello_world&#39;</span><span class="p">)</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">ta</span><span class="o">.</span><span class="n">validate_python</span><span class="p">(</span><span class="s1">&#39;_invalid_&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1 validation error for function-after[match(), str]</span>
<span class="sd">      String should match pattern &#39;^(?!_)(?!.*__)[a-z_]{1,64}(?&lt;!_)$&#39; [type=string_pattern_mismatch, input_value=&#39;_invalid_&#39;, input_type=str]</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div>
</div>
</div>
</div>
<h3 id="introduction-of-typeadapter">Introduction of <code>TypeAdapter</code><a class="headerlink" href="#introduction-of-typeadapter" title="Permanent link">&para;</a></h3>
<p>Pydantic V1 had weak support for validating or serializing non-<code>BaseModel</code> types.</p>
<p>To work with them, you had to either create a "root" model or use the utility functions in <code>pydantic.tools</code>
(namely, <code>parse_obj_as</code> and <code>schema_of</code>).</p>
<p>In Pydantic V2 this is <em>a lot</em> easier: the <code>TypeAdapter</code> class lets you create an object with methods for validating,
serializing, and producing JSON schemas for arbitrary types. This serves as a complete replacement for <code>parse_obj_as</code>
and <code>schema_of</code> (which are now deprecated), and also covers some of the use cases of "root" models
(<code>RootModel</code>, discussed above, covers the others).</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:2"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">Python 3.7 and above</label><label for="__tabbed_6_2">Python 3.9 and above</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>

<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">TypeAdapter</span>

<span class="n">adapter</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">adapter</span><span class="o">.</span><span class="n">validate_python</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">json_schema</span><span class="p">())</span>
<span class="c1">#&gt; {&#39;items&#39;: {&#39;type&#39;: &#39;integer&#39;}, &#39;type&#39;: &#39;array&#39;}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">TypeAdapter</span>

<span class="n">adapter</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">adapter</span><span class="o">.</span><span class="n">validate_python</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">json_schema</span><span class="p">())</span>
<span class="c1">#&gt; {&#39;items&#39;: {&#39;type&#39;: &#39;integer&#39;}, &#39;type&#39;: &#39;array&#39;}</span>
</code></pre></div>
</div>
</div>
</div>
<p>Due to limitations of inferring generic types with common type checkers, to get proper typing in some scenarios, you
may need to explicitly specify the generic parameter:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">TypeAdapter</span>

<span class="n">adapter</span><span class="p">:</span> <span class="n">TypeAdapter</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">TypeAdapter</span><span class="p">(</span><span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">)</span>
<span class="o">...</span>
</code></pre></div>
<p>[TODO: Add link to TypeAdapter documentation. For now, you can find example usage in <code>tests/test_type_adapter.py</code>.]</p>
<h3 id="defining-custom-types">Defining custom types<a class="headerlink" href="#defining-custom-types" title="Permanent link">&para;</a></h3>
<p>We have completely overhauled the way custom types are defined in pydantic.</p>
<p>We have exposed hooks for generating both <code>pydantic-core</code> and JSON schemas, allowing you to get all the performance
benefits of Pydantic V2 even when using your own custom types.</p>
<p>We have also introduced ways to use <code>typing.Annotated</code> to add custom validation to your own types.</p>
<p>The main changes are:</p>
<ul>
<li><code>__get_validators__</code> should be replaced with <code>__get_pydantic_core_schema__</code>.
  See <a href="../usage/types/custom/#classes-with-getpydanticcoreschema">Custom Data Types</a> for more information.</li>
<li><code>__modify_schema__</code> becomes <code>__get_pydantic_json_schema__</code>.
  See <a href="../usage/json_schema/#schema-customization">JSON Schema Customization</a> for more information.</li>
</ul>
<p>Additionally, you can use <code>typing.Annotated</code> to modify or provide the <code>__get_pydantic_core_schema__</code> and
<code>__get_pydantic_json_schema__</code> functions of a type by annotating it, rather than modifying the type itself.
This provides a powerful and flexible mechanism for integrating third-party types with Pydantic, and in some cases
may help you remove hacks from Pydantic V1 introduced to work around the limitations for custom types.</p>
<p>See <a href="../usage/types/custom/">Custom Data Types</a> for more information.</p>
<h3 id="changes-to-json-schema-generation">Changes to JSON schema generation<a class="headerlink" href="#changes-to-json-schema-generation" title="Permanent link">&para;</a></h3>
<p>We received many requests over the years to make changes to the JSON schemas that pydantic generates.</p>
<p>In Pydantic V2, we have tried to address many of the common requests:</p>
<ul>
<li>The JSON schema for <code>Optional</code> fields now indicates that the value <code>null</code> is allowed.</li>
<li>The <code>Decimal</code> type is now exposed in JSON schema (and serialized) as a string.</li>
<li>The JSON schema no longer preserves namedtuples as namedtuples.</li>
<li>The JSON schema we generate by default now targets draft 2020-12 (with some OpenAPI extensions).</li>
<li>When they differ, you can now specify if you want the JSON schema representing the inputs to validation,
    or the outputs from serialization.</li>
</ul>
<p>However, there have been many reasonable requests over the years for changes which we have not chosen to implement.</p>
<p>In Pydantic V1, even if you were willing to implement changes yourself, it was very difficult because the JSON schema
generation process involved various recursive function calls; to override one, you'd have to copy and modify the whole
implementation.</p>
<p>In Pydantic V2, one of our design goals was to make it easier to customize JSON schema generation. To this end, we have
introduced the class <a href="../api/json_schema/#pydantic.json_schema.GenerateJsonSchema"><code>GenerateJsonSchema</code></a>,
which implements the translation of a type's pydantic-core schema into
a JSON schema. By design, this class breaks the JSON schema generation process into smaller methods that can be
easily overridden in subclasses to modify the "global" approach to generating JSON schema.</p>
<p>The various methods that can be used to produce JSON schema (such as <code>BaseModel.model_json_schema</code> or
<code>TypeAdapter.json_schema</code>) accept a keyword argument <code>schema_generator: type[GenerateJsonSchema] = GenerateJsonSchema</code>,
and you can pass your custom subclass to these methods in order to use your own approach to generating JSON schema.</p>
<p>Hopefully this means that if you disagree with any of the choices we've made, or if you are reliant on behaviors in
Pydantic V1 that have changed in Pydantic V2, you can use a custom <code>schema_generator</code>, modifying the
<code>GenerateJsonSchema</code> class as necessary for your application.</p>
<h3 id="basesettings-has-moved-to-pydantic-settings"><code>BaseSettings</code> has moved to <code>pydantic-settings</code><a class="headerlink" href="#basesettings-has-moved-to-pydantic-settings" title="Permanent link">&para;</a></h3>
<p><a href="../api/pydantic_settings/#pydantic_settings.BaseSettings"><code>BaseSettings</code></a>, the base object for Pydantic
<a href="../usage/pydantic_settings/">settings management</a>, has been moved to a separate package,
<a href="https://github.com/pydantic/pydantic-settings"><code>pydantic-settings</code></a>.</p>
<p>Also, the <code>parse_env_var</code> classmethod has been removed. So, you need to
<a href="../usage/pydantic_settings/#customise-settings-sources">customise settings sources</a>
to have your own parsing function.</p>
<h3 id="color-and-payment-card-numbers-moved-to-pydantic-extra-types">Color and Payment Card Numbers moved to <code>pydantic-extra-types</code><a class="headerlink" href="#color-and-payment-card-numbers-moved-to-pydantic-extra-types" title="Permanent link">&para;</a></h3>
<p>The following special-use types have been moved to the
<a href="https://github.com/pydantic/pydantic-extra-types">Pydantic Extra Types</a> package,
which may be installed separately if needed.</p>
<ul>
<li><a href="../usage/types/extra_types/color_types/">Color Types</a></li>
<li><a href="../usage/types/extra_types/payment_cards/">Payment Card Numbers</a></li>
</ul>
<h2 id="moved-in-pydantic-v2">Moved in Pydantic V2<a class="headerlink" href="#moved-in-pydantic-v2" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Pydantic V1</th>
<th>Pydantic V2</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pydantic.BaseSettings</code></td>
<td><a href="#basesettings-has-moved-to-pydantic-settings"><code>pydantic-settings.BaseSettings</code></a></td>
</tr>
<tr>
<td><code>pydantic.color</code></td>
<td><code>pydantic_extra_types.color</code></td>
</tr>
<tr>
<td><code>pydantic.types.PaymentCardBrand</code></td>
<td><a href="#color-and-payment-card-numbers-moved-to-pydantic-extra-types"><code>pydantic_extra_types.PaymentCardBrand</code></a></td>
</tr>
<tr>
<td><code>pydantic.types.PaymentCardNumber</code></td>
<td><a href="#color-and-payment-card-numbers-moved-to-pydantic-extra-types"><code>pydantic_extra_types.PaymentCardNumber</code></a></td>
</tr>
<tr>
<td><code>pydantic.utils.version_info</code></td>
<td><code>pydantic.version.version_info</code></td>
</tr>
<tr>
<td><code>pydantic.error_wrappers.ValidationError</code></td>
<td><code>pydantic.ValidationError</code></td>
</tr>
<tr>
<td><code>pydantic.utils.to_camel</code></td>
<td><code>pydantic.alias_generators.to_pascal</code></td>
</tr>
<tr>
<td><code>pydantic.utils.to_lower_camel</code></td>
<td><code>pydantic.alias_generators.to_camel</code></td>
</tr>
<tr>
<td><code>pydantic.PyObject</code></td>
<td><a href="usage/types/string_types/#importstring"><code>pydantic.ImportString</code></a></td>
</tr>
</tbody>
</table>
<h2 id="deprecated-and-moved-in-pydantic-v2">Deprecated and moved in Pydantic V2<a class="headerlink" href="#deprecated-and-moved-in-pydantic-v2" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Pydantic V1</th>
<th>Pydantic V2</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pydantic.tools.schema_of</code></td>
<td><code>pydantic.deprecated.tools.schema_of</code></td>
</tr>
<tr>
<td><code>pydantic.tools.parse_obj_as</code></td>
<td><code>pydantic.deprecated.tools.parse_obj_as</code></td>
</tr>
<tr>
<td><code>pydantic.tools.schema_json_of</code></td>
<td><code>pydantic.deprecated.tools.schema_json_of</code></td>
</tr>
<tr>
<td><code>pydantic.json.pydantic_encoder</code></td>
<td><code>pydantic.deprecated.json.pydantic_encoder</code></td>
</tr>
<tr>
<td><code>pydantic.validate_arguments</code></td>
<td><code>pydantic.deprecated.decorator.validate_arguments</code></td>
</tr>
<tr>
<td><code>pydantic.json.custom_pydantic_encoder</code></td>
<td><code>pydantic.deprecated.json.custom_pydantic_encoder</code></td>
</tr>
<tr>
<td><code>pydantic.json.timedelta_isoformat</code></td>
<td><code>pydantic.deprecated.json.timedelta_isoformat</code></td>
</tr>
<tr>
<td><code>pydantic.decorator.validate_arguments</code></td>
<td><code>pydantic.deprecated.decorator.validate_arguments</code></td>
</tr>
<tr>
<td><code>pydantic.class_validators.validator</code></td>
<td><code>pydantic.deprecated.class_validators.validator</code></td>
</tr>
<tr>
<td><code>pydantic.class_validators.root_validator</code></td>
<td><code>pydantic.deprecated.class_validators.root_validator</code></td>
</tr>
<tr>
<td><code>pydantic.utils.deep_update</code></td>
<td><code>pydantic.v1.utils.deep_update</code></td>
</tr>
<tr>
<td><code>pydantic.utils.GetterDict</code></td>
<td><code>pydantic.v1.utils.GetterDict</code></td>
</tr>
<tr>
<td><code>pydantic.utils.lenient_issubclass</code></td>
<td><code>pydantic.v1.utils.lenient_issubclass</code></td>
</tr>
<tr>
<td><code>pydantic.utils.lenient_isinstance</code></td>
<td><code>pydantic.v1.utils.lenient_isinstance</code></td>
</tr>
<tr>
<td><code>pydantic.utils.is_valid_field</code></td>
<td><code>pydantic.v1.utils.is_valid_field</code></td>
</tr>
<tr>
<td><code>pydantic.utils.update_not_none</code></td>
<td><code>pydantic.v1.utils.update_not_none</code></td>
</tr>
<tr>
<td><code>pydantic.utils.import_string</code></td>
<td><code>pydantic.v1.utils.import_string</code></td>
</tr>
<tr>
<td><code>pydantic.utils.Representation</code></td>
<td><code>pydantic.v1.utils.Representation</code></td>
</tr>
<tr>
<td><code>pydantic.utils.ROOT_KEY</code></td>
<td><code>pydantic.v1.utils.ROOT_KEY</code></td>
</tr>
<tr>
<td><code>pydantic.utils.smart_deepcopy</code></td>
<td><code>pydantic.v1.utils.smart_deepcopy</code></td>
</tr>
<tr>
<td><code>pydantic.utils.sequence_like</code></td>
<td><code>pydantic.v1.utils.sequence_like</code></td>
</tr>
</tbody>
</table>
<h2 id="removed-in-pydantic-v2">Removed in Pydantic V2<a class="headerlink" href="#removed-in-pydantic-v2" title="Permanent link">&para;</a></h2>
<ul>
<li><code>pydantic.ConstrainedBytes</code></li>
<li><code>pydantic.ConstrainedDate</code></li>
<li><code>pydantic.ConstrainedDecimal</code></li>
<li><code>pydantic.ConstrainedFloat</code></li>
<li><code>pydantic.ConstrainedFrozenSet</code></li>
<li><code>pydantic.ConstrainedInt</code></li>
<li><code>pydantic.ConstrainedList</code></li>
<li><code>pydantic.ConstrainedSet</code></li>
<li><code>pydantic.ConstrainedStr</code></li>
<li><code>pydantic.JsonWrapper</code></li>
<li><code>pydantic.NoneBytes</code></li>
<li><code>pydantic.NoneStr</code></li>
<li><code>pydantic.NoneStrBytes</code></li>
<li><code>pydantic.Protocol</code></li>
<li><code>pydantic.Required</code></li>
<li><code>pydantic.StrBytes</code></li>
<li><code>pydantic.compiled</code></li>
<li><code>pydantic.config.get_config</code></li>
<li><code>pydantic.config.inherit_config</code></li>
<li><code>pydantic.config.prepare_config</code></li>
<li><code>pydantic.create_model_from_namedtuple</code></li>
<li><code>pydantic.create_model_from_typeddict</code></li>
<li><code>pydantic.dataclasses.create_pydantic_model_from_dataclass</code></li>
<li><code>pydantic.dataclasses.make_dataclass_validator</code></li>
<li><code>pydantic.dataclasses.set_validation</code></li>
<li><code>pydantic.datetime_parse.parse_date</code></li>
<li><code>pydantic.datetime_parse.parse_time</code></li>
<li><code>pydantic.datetime_parse.parse_datetime</code></li>
<li><code>pydantic.datetime_parse.parse_duration</code></li>
<li><code>pydantic.error_wrappers.ErrorWrapper</code></li>
<li><code>pydantic.errors.AnyStrMaxLengthError</code></li>
<li><code>pydantic.errors.AnyStrMinLengthError</code></li>
<li><code>pydantic.errors.ArbitraryTypeError</code></li>
<li><code>pydantic.errors.BoolError</code></li>
<li><code>pydantic.errors.BytesError</code></li>
<li><code>pydantic.errors.CallableError</code></li>
<li><code>pydantic.errors.ClassError</code></li>
<li><code>pydantic.errors.ColorError</code></li>
<li><code>pydantic.errors.ConfigError</code></li>
<li><code>pydantic.errors.DataclassTypeError</code></li>
<li><code>pydantic.errors.DateError</code></li>
<li><code>pydantic.errors.DateNotInTheFutureError</code></li>
<li><code>pydantic.errors.DateNotInThePastError</code></li>
<li><code>pydantic.errors.DateTimeError</code></li>
<li><code>pydantic.errors.DecimalError</code></li>
<li><code>pydantic.errors.DecimalIsNotFiniteError</code></li>
<li><code>pydantic.errors.DecimalMaxDigitsError</code></li>
<li><code>pydantic.errors.DecimalMaxPlacesError</code></li>
<li><code>pydantic.errors.DecimalWholeDigitsError</code></li>
<li><code>pydantic.errors.DictError</code></li>
<li><code>pydantic.errors.DurationError</code></li>
<li><code>pydantic.errors.EmailError</code></li>
<li><code>pydantic.errors.EnumError</code></li>
<li><code>pydantic.errors.EnumMemberError</code></li>
<li><code>pydantic.errors.ExtraError</code></li>
<li><code>pydantic.errors.FloatError</code></li>
<li><code>pydantic.errors.FrozenSetError</code></li>
<li><code>pydantic.errors.FrozenSetMaxLengthError</code></li>
<li><code>pydantic.errors.FrozenSetMinLengthError</code></li>
<li><code>pydantic.errors.HashableError</code></li>
<li><code>pydantic.errors.IPv4AddressError</code></li>
<li><code>pydantic.errors.IPv4InterfaceError</code></li>
<li><code>pydantic.errors.IPv4NetworkError</code></li>
<li><code>pydantic.errors.IPv6AddressError</code></li>
<li><code>pydantic.errors.IPv6InterfaceError</code></li>
<li><code>pydantic.errors.IPv6NetworkError</code></li>
<li><code>pydantic.errors.IPvAnyAddressError</code></li>
<li><code>pydantic.errors.IPvAnyInterfaceError</code></li>
<li><code>pydantic.errors.IPvAnyNetworkError</code></li>
<li><code>pydantic.errors.IntEnumError</code></li>
<li><code>pydantic.errors.IntegerError</code></li>
<li><code>pydantic.errors.InvalidByteSize</code></li>
<li><code>pydantic.errors.InvalidByteSizeUnit</code></li>
<li><code>pydantic.errors.InvalidDiscriminator</code></li>
<li><code>pydantic.errors.InvalidLengthForBrand</code></li>
<li><code>pydantic.errors.JsonError</code></li>
<li><code>pydantic.errors.JsonTypeError</code></li>
<li><code>pydantic.errors.ListError</code></li>
<li><code>pydantic.errors.ListMaxLengthError</code></li>
<li><code>pydantic.errors.ListMinLengthError</code></li>
<li><code>pydantic.errors.ListUniqueItemsError</code></li>
<li><code>pydantic.errors.LuhnValidationError</code></li>
<li><code>pydantic.errors.MissingDiscriminator</code></li>
<li><code>pydantic.errors.MissingError</code></li>
<li><code>pydantic.errors.NoneIsAllowedError</code></li>
<li><code>pydantic.errors.NoneIsNotAllowedError</code></li>
<li><code>pydantic.errors.NotDigitError</code></li>
<li><code>pydantic.errors.NotNoneError</code></li>
<li><code>pydantic.errors.NumberNotGeError</code></li>
<li><code>pydantic.errors.NumberNotGtError</code></li>
<li><code>pydantic.errors.NumberNotLeError</code></li>
<li><code>pydantic.errors.NumberNotLtError</code></li>
<li><code>pydantic.errors.NumberNotMultipleError</code></li>
<li><code>pydantic.errors.PathError</code></li>
<li><code>pydantic.errors.PathNotADirectoryError</code></li>
<li><code>pydantic.errors.PathNotAFileError</code></li>
<li><code>pydantic.errors.PathNotExistsError</code></li>
<li><code>pydantic.errors.PatternError</code></li>
<li><code>pydantic.errors.PyObjectError</code></li>
<li><code>pydantic.errors.PydanticTypeError</code></li>
<li><code>pydantic.errors.PydanticValueError</code></li>
<li><code>pydantic.errors.SequenceError</code></li>
<li><code>pydantic.errors.SetError</code></li>
<li><code>pydantic.errors.SetMaxLengthError</code></li>
<li><code>pydantic.errors.SetMinLengthError</code></li>
<li><code>pydantic.errors.StrError</code></li>
<li><code>pydantic.errors.StrRegexError</code></li>
<li><code>pydantic.errors.StrictBoolError</code></li>
<li><code>pydantic.errors.SubclassError</code></li>
<li><code>pydantic.errors.TimeError</code></li>
<li><code>pydantic.errors.TupleError</code></li>
<li><code>pydantic.errors.TupleLengthError</code></li>
<li><code>pydantic.errors.UUIDError</code></li>
<li><code>pydantic.errors.UUIDVersionError</code></li>
<li><code>pydantic.errors.UrlError</code></li>
<li><code>pydantic.errors.UrlExtraError</code></li>
<li><code>pydantic.errors.UrlHostError</code></li>
<li><code>pydantic.errors.UrlHostTldError</code></li>
<li><code>pydantic.errors.UrlPortError</code></li>
<li><code>pydantic.errors.UrlSchemeError</code></li>
<li><code>pydantic.errors.UrlSchemePermittedError</code></li>
<li><code>pydantic.errors.UrlUserInfoError</code></li>
<li><code>pydantic.errors.WrongConstantError</code></li>
<li><code>pydantic.main.validate_model</code></li>
<li><code>pydantic.networks.stricturl</code></li>
<li><code>pydantic.parse_file_as</code></li>
<li><code>pydantic.parse_raw_as</code></li>
<li><code>pydantic.stricturl</code></li>
<li><code>pydantic.tools.parse_file_as</code></li>
<li><code>pydantic.tools.parse_raw_as</code></li>
<li><code>pydantic.types.ConstrainedBytes</code></li>
<li><code>pydantic.types.ConstrainedDate</code></li>
<li><code>pydantic.types.ConstrainedDecimal</code></li>
<li><code>pydantic.types.ConstrainedFloat</code></li>
<li><code>pydantic.types.ConstrainedFrozenSet</code></li>
<li><code>pydantic.types.ConstrainedInt</code></li>
<li><code>pydantic.types.ConstrainedList</code></li>
<li><code>pydantic.types.ConstrainedSet</code></li>
<li><code>pydantic.types.ConstrainedStr</code></li>
<li><code>pydantic.types.JsonWrapper</code></li>
<li><code>pydantic.types.NoneBytes</code></li>
<li><code>pydantic.types.NoneStr</code></li>
<li><code>pydantic.types.NoneStrBytes</code></li>
<li><code>pydantic.types.PyObject</code></li>
<li><code>pydantic.types.StrBytes</code></li>
<li><code>pydantic.typing.evaluate_forwardref</code></li>
<li><code>pydantic.typing.AbstractSetIntStr</code></li>
<li><code>pydantic.typing.AnyCallable</code></li>
<li><code>pydantic.typing.AnyClassMethod</code></li>
<li><code>pydantic.typing.CallableGenerator</code></li>
<li><code>pydantic.typing.DictAny</code></li>
<li><code>pydantic.typing.DictIntStrAny</code></li>
<li><code>pydantic.typing.DictStrAny</code></li>
<li><code>pydantic.typing.IntStr</code></li>
<li><code>pydantic.typing.ListStr</code></li>
<li><code>pydantic.typing.MappingIntStrAny</code></li>
<li><code>pydantic.typing.NoArgAnyCallable</code></li>
<li><code>pydantic.typing.NoneType</code></li>
<li><code>pydantic.typing.ReprArgs</code></li>
<li><code>pydantic.typing.SetStr</code></li>
<li><code>pydantic.typing.StrPath</code></li>
<li><code>pydantic.typing.TupleGenerator</code></li>
<li><code>pydantic.typing.WithArgsTypes</code></li>
<li><code>pydantic.typing.all_literal_values</code></li>
<li><code>pydantic.typing.display_as_type</code></li>
<li><code>pydantic.typing.get_all_type_hints</code></li>
<li><code>pydantic.typing.get_args</code></li>
<li><code>pydantic.typing.get_origin</code></li>
<li><code>pydantic.typing.get_sub_types</code></li>
<li><code>pydantic.typing.is_callable_type</code></li>
<li><code>pydantic.typing.is_classvar</code></li>
<li><code>pydantic.typing.is_finalvar</code></li>
<li><code>pydantic.typing.is_literal_type</code></li>
<li><code>pydantic.typing.is_namedtuple</code></li>
<li><code>pydantic.typing.is_new_type</code></li>
<li><code>pydantic.typing.is_none_type</code></li>
<li><code>pydantic.typing.is_typeddict</code></li>
<li><code>pydantic.typing.is_typeddict_special</code></li>
<li><code>pydantic.typing.is_union</code></li>
<li><code>pydantic.typing.new_type_supertype</code></li>
<li><code>pydantic.typing.resolve_annotations</code></li>
<li><code>pydantic.typing.typing_base</code></li>
<li><code>pydantic.typing.update_field_forward_refs</code></li>
<li><code>pydantic.typing.update_model_forward_refs</code></li>
<li><code>pydantic.utils.ClassAttribute</code></li>
<li><code>pydantic.utils.DUNDER_ATTRIBUTES</code></li>
<li><code>pydantic.utils.PyObjectStr</code></li>
<li><code>pydantic.utils.ValueItems</code></li>
<li><code>pydantic.utils.almost_equal_floats</code></li>
<li><code>pydantic.utils.get_discriminator_alias_and_values</code></li>
<li><code>pydantic.utils.get_model</code></li>
<li><code>pydantic.utils.get_unique_discriminator_alias</code></li>
<li><code>pydantic.utils.in_ipython</code></li>
<li><code>pydantic.utils.is_valid_identifier</code></li>
<li><code>pydantic.utils.path_type</code></li>
<li><code>pydantic.utils.validate_field_name</code></li>
<li><code>pydantic.validate_model</code></li>
</ul>





                
  <script src="/flarelytics/client.js"></script>

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "content.code.annotate", "announce.dismiss", "navigation.tabs"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../extra/redirects.js"></script>
        
      
    
  </body>
</html>